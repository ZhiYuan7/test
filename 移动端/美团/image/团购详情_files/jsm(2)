;webpackJsonp([15],{0:function(e,t,n){n(752),e.exports=n(237)},33:function(e,t,n){function o(e){return e&&e.prototype&&e.prototype.render?r(e,a):function(t){return r(t,e)}}var r=n(34),a=n(35);e.exports={Connect:o,connect:o,state:a,State:n(36)}},34:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){}function a(e,t){var n,o=t||s.default,a=function(e,t){return o.on(e,t),{remove:function(){o.removeListener(e,t)}}},i=e.prototype.componentDidMount||r;e.prototype.componentDidMount=function(){var e=this;return n=a("change",function(){f&&console.time&&console.time("全文档重渲染耗时"),e.forceUpdate(function(){f&&console.timeEnd&&console.timeEnd("全文档重渲染耗时")})}),i.call(this)};var l=e.prototype.componentWillUnmount||r;return e.prototype.componentWillUnmount=function(){return n&&n.remove(),l.call(this)},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(35),s=o(i),l=n(38),c=n(3),u=o(c),f=l.isDev&&!l.muteConsole&&"undefined"!=typeof console;"undefined"!=typeof window&&(window.React=u.default),e.exports=t.default},35:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),a=o(r),i="undefined"!=typeof window?window._appState:{},s=new a.default(i);t.default=s,"undefined"!=typeof window&&(window._state=s),e.exports=t.default},36:function(e,t,n){function o(e,t,n,o,r,a,i){var s=Array.isArray(e)?[]:{};if(i)throw Error("You pass too many args for merge method");try{[e,t,n,o,r,a].filter(Boolean).forEach(function(e){Object.keys(e).forEach(function(t){s[t]=e[t]})})}catch(e){return s}return s}function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&b(n)===g}function a(e){return r(e)||Array.isArray(e)}function i(e){return!!r(e)||(!!Array.isArray(e)||("object"!=typeof e&&"function"!=typeof e||(null===e||void 0===e||e!==e)))}function s(e,t,n){for(var o=e.length,r=0;r<o;r++)if(e[r]&&e[r][t]===n)return e[r]}function l(e){function t(e,o){if(!a(e))return e;if(o=o||0,o>20)throw new Error("probably too deep to clone..");var r=Array.isArray(e)?[]:{};return n.push({source:e,dest:r}),Object.keys(e).forEach(function(i){if(a(e[i])){var l=s(n,"source",e[i]);if(l)return void(r[i]=l.dest);r[i]=t(e[i],o+1)}else r[i]=e[i]}),r}var n=[];return t(e)}function c(e,t){return e.filter(function(e,n){return t!==n})}function u(e){return void 0===e||null===e||e!==e}function f(e,t,n){for(var o=t.concat(),r=o.pop();o.length;){var a=o.shift();u(e[a])&&(e[a]={}),e=e[a]}e[r]=n}function p(e,t){var n=t.concat();if(u(e)&&0===n.length)return e;for(var o=n.pop();n.length;){var r=n.shift();if(e=e[r],u(e))return}return u(e)?void 0:e[o]}function d(e,t){function n(e){return r.length>=10?void t(r.concat(),e):(o=t(r.concat(),e),void(o!==!1&&a(e)&&Object.keys(e).forEach(function(t){r.push(t),n(e[t]),r.pop()})))}var o,r=[];n(e)}function h(e,t){d(e,function(e,n){if("object"!=typeof n||e.length>=10)return void t(e.concat(),n)})}function m(e,t){this._config={},this.load(e||{}),this.clearRecord(),this.emit("change",this._state)}function y(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n}):e[t]=n}var v=n(37),b=function(e){return Function.prototype.toString.call(e)},g=b(Object);m.prototype=new v,m.prototype.load=function(e){this._state=e,this.emit("change",this._state)},m.prototype.config=function(e,t){this._config[e]=t},m.prototype.toJS=function(){return this._state},m.prototype.get=function(e){return e?this.cursor(e)():this._state},m.prototype.set=function(e,t){return this.cursor(e).update(t)},m.prototype.update=m.prototype.set,m.prototype.cursor=function e(t,n){function r(e){return r.get(e)}function a(e){if(e||(e=[]),n)throw Error("cursor doesn't support a second argument");if("string"!=typeof e&&!Array.isArray(e))throw Error("State.prototype.cursor only accept string or array, "+typeof e+" is forbidden");return"string"==typeof e&&(e=e.split(".")),e}function s(e){c._config.SKIP_TYPE_CHECK||i(e)||u("You should only update a cursor with Object, Array or other basic types, "+e.constructor.name+' is not supported officially! Please fix it or call state.config("SKIP_TYPE_CHECK", true) to skip type-check.')}var c=this,u="undefined"!=typeof console&&console.warn&&console.warn.bind(console);return t=a(t),r.get=function(e){return"string"==typeof e&&(e=e.split(".")),p(c,["_state"].concat(t).concat("undefined"==typeof e?[]:e))},r.update=function(e,n){function r(e,t,n){for(var r=1;r<t.length;){var a=t.slice(0,r);a.length&&w.assign(e,a,o(p(e,a))),r++}f(e,t.concat(),n),e.emit("change",e._state),e.emit("update",{host:e,path:t.slice(1),oldval:u,newval:n})}if("function"==typeof e){var a=["_state"].concat(t),i=e(l(p(c,a)));return s(i),void r(c,a,i)}1===arguments.length&&(n=e,e=[]),"string"==typeof e&&(e=e.split("."));var a=["_state"].concat(t.concat(e)),u=p(c,a.concat());s(n),u!==n?r(c,a.concat(),n):c.emit("message",{type:"no-update",path:a.slice(1),value:n})},r.mergeUpdate=function(e){var n,r=[];h(e,function(e,o){var a=["_state"].concat(t).concat(e);n=!(p(c,a.concat())===o),n&&r.push([a.concat(),o])});var a=[],i="!@#@";r.forEach(function(e){for(var t=1,n=e[0],r=e[1];t<n.length;){var s=n.slice(0,t);if(a.indexOf(s.join(i))>-1)break;a.push(s.join(i)),s.length&&w.assign(c,s,o(p(c,s))),t++}f(c,n.concat(),r),c.emit("update",{host:c,path:n.slice(1),oldval:p(c,n),newval:r})}),r.length?c.emit("change",c._state):c.emit("message",{type:"no-update-by-merge",path:t,value:e})},r.cursor=function(n){return e(t.concat(a(n)))},r},m.prototype.cursorFromObject=function(e){if("object"!=typeof e)throw Error("parameter for cursorFromObject must be an object");var t=null;return d(this._state,function(n,o){if(o===e)return t=n,!1}),t?this.cursor(t):void 0},m.prototype.namespace=function(e){var t=this;if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw Error("namespace only accept string or array "+typeof e+" is forbiddne");return{cursor:function(n){if(n||(n=[]),"string"!=typeof n&&!Array.isArray(n))throw Error("State.prototype.cursor only accept string or array, "+typeof n+" is forbidden");return"string"==typeof n&&(n=n.split(".")),t.cursor(e.concat(n))}}},m.prototype.clearRecord=function(){this._records=[],this._recordIndex=-1},m.prototype.canUndo=function(){var e=this._records[this._recordIndex-1];return!!e},m.prototype.canRedo=function(){var e=this._records[this._recordIndex+1];return!!e},m.prototype.undo=function(){var e=this._records[this._recordIndex-1];e&&(this.load(e),this._recordIndex--)},m.prototype.redo=function(){var e=this._records[this._recordIndex+1];e&&(this.load(e),this._recordIndex++)},m.prototype.snapshot=function(){this._records[this._recordIndex+1]=this._state,this._records.length=this._recordIndex+2,this._recordIndex++},m.util={push:function(e,t){return e.concat([t])},unshift:function(e,t){return[t].concat(e)},pop:function(e){return c(e,e.length-1)},shift:function(e){return c(e,0)},sort:function(e,t){return e.concat().sort(t)},reverse:function(e){return e.concat().reverse()},splice:function(e){var t=e.concat(),n=[].slice.call(arguments,1);return t.splice.apply(t,n),t},remove:c,merge:o},m.X_PREFIX="x",m.injectPrototype=function(){["push","unshift","pop","shift","sort","reverse","splice","remove"].forEach(function(e){y(Array.prototype,"x"+e,function(t,n){return m.util[e](this,t,n)})}),y(Array.prototype,m.X_PREFIX+"splice",function(){return m.util.splice.apply(null,[this].concat([].slice.call(arguments)))}),y(Object.prototype,m.X_PREFIX+"merge",function(e,t,n,r,a){return o(this,e,t,n,r,a)})},m.prototype.util=m.util,m.prototype.injectPrototype=m.injectPrototype,e.exports=m;var w=m.INNER_FUNC={assign:f,keyPathsCall:h}},37:function(e,t,n){"use strict";function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){}var a=Object.prototype.hasOwnProperty,i="function"!=typeof Object.create&&"~";r.prototype._events=void 0,r.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)a.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},r.prototype.listeners=function(e,t){var n=i?i+e:e,o=this._events&&this._events[n];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var r=0,a=o.length,s=new Array(a);r<a;r++)s[r]=o[r].fn;return s},r.prototype.emit=function(e,t,n,o,r,a){var s=i?i+e:e;if(!this._events||!this._events[s])return!1;var l,c,u=this._events[s],f=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,o),!0;case 5:return u.fn.call(u.context,t,n,o,r),!0;case 6:return u.fn.call(u.context,t,n,o,r,a),!0}for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;default:if(!l)for(p=1,l=new Array(f-1);p<f;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},r.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.removeListener=function(e,t,n,o){var r=i?i+e:e;if(!this._events||!this._events[r])return this;var a=this._events[r],s=[];if(t)if(a.fn)(a.fn!==t||o&&!a.once||n&&a.context!==n)&&s.push(a);else for(var l=0,c=a.length;l<c;l++)(a[l].fn!==t||o&&!a[l].once||n&&a[l].context!==n)&&s.push(a[l]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},r.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=i,e.exports=r},38:function(e,t,n){"use strict";e.exports={muteConsole:!1,isDev:!1}},40:function(e,t,n){var o,r;/*!
	  Copyright (c) 2017 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&e.push(i)}else if("object"===r)for(var s in o)a.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?(n.default=n,e.exports=n):(o=[],r=function(){return n}.apply(t,o),!(void 0!==r&&(e.exports=r)))}()},41:function(e,t,n){e.exports=n(42)()},42:function(e,t,n){"use strict";function o(){}var r=n(27);e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},43:function(e,t,n){function o(){}function r(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function a(e){if(!g(e))return e;var t=[];for(var n in e)null!=e[n]&&i(t,n,e[n]);return t.join("&")}function i(e,t,n){return Array.isArray(n)?n.forEach(function(n){i(e,t,n)}):void e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function s(e){for(var t,n,o={},r=e.split("&"),a=0,i=r.length;a<i;++a)n=r[a],t=n.split("="),o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return o}function l(e){var t,n,o,r,a=e.split(/\r?\n/),i={};a.pop();for(var s=0,l=a.length;s<l;++s)n=a[s],t=n.indexOf(":"),o=n.slice(0,t).toLowerCase(),r=E(n.slice(t+1)),i[o]=r;return i}function c(e){return/[\/+]json\b/.test(e)}function u(e){return e.split(/ *; */).shift()}function f(e){return v(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),o=n.shift(),r=n.shift();return o&&r&&(e[o]=r),e},{})}function p(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new p(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,e.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,e.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var o=new Error(t.statusText||"Unsuccessful HTTP response");o.original=e,o.response=t,o.status=t.status,n.callback(o,t)})}function h(e,t){var n=w("DELETE",e);return t&&n.end(t),n}var m,y=n(44),v=n(45),b=n(46),g=n(47);m="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var w=e.exports=n(48).bind(null,d);w.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var E="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};w.serializeObject=a,w.parseString=s,w.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},w.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},p.prototype.get=function(e){return this.header[e.toLowerCase()]},p.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=u(t);var n=f(t);for(var o in n)this[o]=n[o]},p.prototype.parseBody=function(e){var t=w.parse[this.type];return!t&&c(this.type)&&(t=w.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},p.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},p.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,o="cannot "+t+" "+n+" ("+this.status+")",r=new Error(o);return r.status=this.status,r.method=t,r.url=n,r},w.Response=p,y(d.prototype);for(var _ in b)d.prototype[_]=b[_];d.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},d.prototype.type=function(e){return this.set("Content-Type",w.types[e]||e),this},d.prototype.responseType=function(e){return this._responseType=e,this},d.prototype.accept=function(e){return this.set("Accept",w.types[e]||e),this},d.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var o=btoa(e+":"+t);this.set("Authorization","Basic "+o);break;case"auto":this.username=e,this.password=t}return this},d.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},d.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},d.prototype.send=function(e){var t=g(e),n=this._header["content-type"];if(t&&g(this._data))for(var o in e)this._data[o]=e[o];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||r(e)?this:(n||this.type("json"),this)},p.prototype.parse=function(e){return m.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(e),this},p.prototype.serialize=function(e){return this._parser=e,this},d.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},d.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},d.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(e){var t=this,n=this.xhr=w.getXHR(),a=this._query.join("&"),i=this._timeout,s=this._formData||this._data;this._callback=e||o,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(e){}if(i&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},i)),a&&(a=w.serializeObject(a),this.url+=~this.url.indexOf("?")?"&"+a:"?"+a),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!r(s)){var u=this._header["content-type"],f=this._parser||w.serialize[u?u.split(";")[0]:""];!f&&c(u)&&(f=w.serialize["application/json"]),f&&(s=f(s))}for(var p in this.header)null!=this.header[p]&&n.setRequestHeader(p,this.header[p]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof s?s:null),this},w.Request=d,w.get=function(e,t,n){var o=w("GET",e);return"function"==typeof t&&(n=t,t=null),t&&o.query(t),n&&o.end(n),o},w.head=function(e,t,n){var o=w("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o},w.del=h,w.delete=h,w.patch=function(e,t,n){var o=w("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o},w.post=function(e,t,n){var o=w("POST",e);return"function"==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o},w.put=function(e,t,n){var o=w("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o}},44:function(e,t,n){function o(e){if(e)return r(e)}function r(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o,r=0;r<n.length;r++)if(o=n[r],o===t||o.fn===t){n.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var o=0,r=n.length;o<r;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},45:function(e,t){e.exports=function(e,t,n){for(var o=0,r=e.length,a=3==arguments.length?n:e[o++];o<r;)a=t.call(null,a,e[o],++o,e);return a}},46:function(e,t,n){var o=n(47);t.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},t.parse=function(e){return this._parser=e,this},t.timeout=function(e){return this._timeout=e,this},t.then=function(e,t){return this.end(function(n,o){n?t(n):e(o)})},t.use=function(e){return e(this),this},t.get=function(e){return this._header[e.toLowerCase()]},t.getHeader=t.get,t.set=function(e,t){if(o(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},t.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},t.field=function(e,t){return this._getFormData().append(e,t),this}},47:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},48:function(e,t){function n(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}e.exports=n},201:function(e,t){"use strict";e.exports={mge:function(e){var t=e;if(window&&window.LXAnalytics){if(e&&"string"==typeof e)try{t=JSON.parse(t)}catch(e){t={}}var n=t.type||"moduleClick";"view"===t.type?n="moduleView":"click"===t.type?n="moduleClick":"pv"===t.type?n="pageView":"pd"===t.type&&(n="pageDisappear");var o=t.bid,r=t.lab||{};"order"===n||"pay"===n?window.LXAnalytics(n,o,"",r):"pageView"===n||"pageDisappear"===n?window.LXAnalytics(n,r):window.LXAnalytics(n,o,r)}}}},204:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(61),h=o(d),m=n(205),y=o(m),v=n(201),b=o(v),g=n(206),w=o(g),E=n(207),_=o(E),O=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={href:"javascript:;"},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.midas1,n=e.paramTrans,o=void 0===n||n;t&&"string"==typeof t&&y.default.sendLoadLog(t),this.props.href&&o&&this.setState({href:_.default.getUrlWithTransferParams(this.state.href)});var r=h.default.findDOMNode(this.refs.link);this.props.midas3&&w.default.unveil(r,null,!0)&&(y.default.sendViewLog(this.props.midas3),r.removeAttribute("data-midas3"))},t.prototype.componentWillMount=function(){this.props.href&&this.setState({href:this.props.href||this.state.href})},t.prototype.handleClick=function(e){var t=this.props,n=t.gaevent,o=void 0===n?"":n,r=t.midas2,a=void 0===r?"":r,i=t.onClick;if(o&&"string"==typeof o)try{var s=JSON.parse(o);b.default.mge(s)}catch(e){b.default.mge({bid:o})}a&&"string"==typeof o&&y.default.sendClickLog(a),i&&"function"==typeof i&&i.call(this,e)},t.prototype.render=function(){var e=this.props,t=e.midas3,n=void 0===t?"":t,o=e.className,r=void 0===o?"":o,a=this.state.href;return n?f.default.createElement("a",{ref:"link",href:a,className:r,"data-midas3":n,onClick:this.handleClick.bind(this)},this.props.children):f.default.createElement("a",{ref:"link",href:a,className:r,onClick:this.handleClick.bind(this)},this.props.children)},t}(u.Component),l.propTypes={href:f.default.PropTypes.string,className:f.default.PropTypes.string,gaevent:f.default.PropTypes.string,onClick:f.default.PropTypes.func,midas1:f.default.PropTypes.string,midas2:f.default.PropTypes.string,midas3:f.default.PropTypes.string},s=c))||s;t.default=O,e.exports=t.default},205:function(e,t){"use strict";e.exports={_send:function(e,t){var n="";if(e.indexOf("?")>-1)n=e;else{var o="meishi.meituan.com"===location.host,r=o?"mlog.dianping.com":"mlog.51ping.com";n="https://"+r+"/log?"+decodeURIComponent(e)}n=n.replace(/^https?:/,"https:"),n=n+"&referer="+encodeURIComponent(document.referrer)+"&t="+(new Date).getTime(),n.indexOf("act=")<0&&(n=n+"&act="+t);var a=new Image(1,1);a.onload=a.onerror=function(){a=null},a.src=n},sendClickLog:function(e){e&&this._send(e,2)},sendViewLog:function(e){e&&this._send(e,3)},sendLoadLog:function(e){e&&this._send(e,1)}}},206:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(43),i=o(a);e.exports={queryURL:function(e,t){e=e.replace(/^[^?=]*\?/gi,"").split("#")[0];var n={};return e.replace(/(^|&)([^&=]+)=([^&]*)/g,function(e,t,o,r){try{o=decodeURIComponent(o)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}o in n?n[o]instanceof Array?n[o].push(r):n[o]=[n[o],r]:n[o]=/\[\]$/.test(o)?[r]:r}),t?n[t]:n},parseCookie:function(e){var t={};return decodeURI(e).split("; ").forEach(function(e){var n=e.split("="),o=r(n,2),a=o[0],i=o[1];t[a]=unescape(i)}),t},isEmptyObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&0===Object.keys(e).length},isEmptyArr:function(e){return"[object Array]"===Object.prototype.toString.call(e)&&0===e.length},isEmptyString:function(e){return"string"==typeof e&&!e.trim()},getDistance:function(e,t){var n=e||{},o=t||{},r="";if(n.lng&&n.lat&&o.lng&&o.lat){var a=+n.lng,i=+n.lat,s=+o.lng,l=+o.lat,c=a-s,u=i-l,f=(i+l)/2,p=(.05*f*f*f-19.16*f*f+47.13*f+110966)*c,d=(17*f+110352)*u,h=Math.sqrt(p*p+d*d);r=h<100?"<100m":h<1e3?parseInt(h,10)+"m":h<=1e4?parseFloat((h/1e3).toFixed(1))+"km":h<=1e5?parseInt(h/1e3,10)+"km":">100km"}return r},clearZero:function(e){var t=""+e;return t.split(".").length>1&&t.split(".")[1].length>2&&(t=""+(+t).toFixed(2)),parseFloat(t)},makePostRequest:function(e,t,n){i.default.post(e).send(t).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,t){n(e,t)})},compareVersion:function(e,t){var n=e.length,o=t.length,r=e.shift(),a=t.shift();return r===a?n>1&&o>1?this.compareVersion(e,t):n>=o:r>a},compare:function(e,t){if(Object.prototype.toString.call(e)===Object.prototype.toString.call(t)){var n=Object.prototype.toString.call(e);switch(n){case"[object Object]":return this.compareObject(e,t);case"[object Array]":return this.compareArray(e,t);case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Undefined]":return e===t;case"[object Function]":return!1;default:return!1}}return!1},compareArray:function(e,t){var n=this;return e.length===t.length&&e.forEach(function(e,o){return n.compare(e,t[o])}),!1},compareObject:function(e,t){var n=this;return e=Object.keys(e),t=Object.keys(t),e.length===t.length&&e.forEach(function(e,o){return n.compare(e,t[o])}),!1},getImageUrl:function(e,t){var n="";return n=t?("string"==typeof e?e:"").replace(/^http:(\/\/mss.sankuai.com)/g,"$1"):("string"==typeof e?e:"").replace(/\/w.h/,"").split("@")[0].split("%")[0],n=n.replace(/^http:(\/\/p[01])/g,"$1"),n=n.replace(/^http:(\/\/qcloud.dpfile.com)/g,"$1"),n=n.replace(/^http:(\/\/s[01].meituan.net)/g,"$1"),n=n.replace(/^http:(\/\/mss-img.sankuai.com)/g,"$1"),n=n.replace(/^http:(\/\/s3plus.sankuai.com)/g,"$1"),n=n.replace(/^http:(\/\/s3plus-img.sankuai.com)/g,"$1")},getMaskedCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",r=""+e;r=r.split("");for(var a="",i=0;i<n;i++)a+=""+o;return r.splice(t,n,a),r.join("")},getMetric:function(e){var t=e||"/i/";return t="/"===t?"/i/":t,t=t.split("/"),t=t.filter(function(e){return""!==e}),t.join(".")},unveil:function(e,t,n){var o=50,r=50;t&&"[object Object]"===Object.prototype.toString.call(t)&&(r=isFinite(t.width)?+t.width:r,o=isFinite(t.height)?+t.heigth:o);var a=e.getBoundingClientRect(),i=document.documentElement.clientHeight,s=document.documentElement.clientWidth,l=a.height,c=a.width,u=l?l:o,f=c?c:r,p=a.bottom,d=p<=i,h=n?1:u,m=i-a.top,y=m>=h,v=a.left+c,b=v>=f,g=s-(a.right-c),w=g>=f;return!!((n||d)&&y&&b&&w)},isOnScreen:function(e,t,n){var o=50,r=50;t&&"[object Object]"===Object.prototype.toString.call(t)&&(r=isFinite(t.width)?+t.width:r,o=isFinite(t.height)?+t.height:o);var a=e.getBoundingClientRect(),i=document.documentElement.clientHeight,s=(document.documentElement.clientWidth,a.height),l=(a.width,s?s:o),c=a.bottom<=i&&a.bottom>=n,u=i-(a.bottom-s)>=l,f=c&&u,p=a.top>=n,d=i-a.top>=l,h=p&&d;return f&&h},isOffScreen:function(e,t){var n=e.getBoundingClientRect(),o=document.documentElement.clientHeight,r=(document.documentElement.clientWidth,n.height),a=(n.width,n.bottom<=o&&n.bottom>=t),i=o-(n.bottom-r)>=0,s=a&&i,l=n.top>=t,c=o-n.top>=0,u=l&&c;return!(s||u)},isNumber:function(e){return!(""===e||null===e||void 0===e||!isFinite(e))},getMtPoiDetailUrl:function(e,t,n,o){var r="/i/poi/"+n;return e?r=t?"imeituan://www.meituan.com/merchant?id="+n+"&channel=food":"imeituan://www.meituan.com/food/poi/detail?id="+n+"&showtype=food&channel=food":o&&(r="dianping://shopinfo?id="+n),r},getLatLng:function(e){var t=e||{},n=t.lat,o=t.lng,r=t.latlng;return r=r&&r.split(",")||[],n=n?n:r[0],o=o?o:r[1],{lat:n||0,lng:o||0}},viewAnalytic:function(e,t,n){var o=this,r=document.querySelectorAll("["+e+"]");0!==r.length&&(r=Array.from(r),r.forEach(function(r){if(o.unveil(r)){var a={};try{a=JSON.parse(r.getAttribute(e)||"{}")}catch(e){console.error("json parse error lib 1",e)}n&&Object.assign(a.lab,n),t&&t(a),r.removeAttribute(e)}}))},removedImgProtocol:function(e){return e.replace(/^http:/,"")},getPoiHref:function(e){var t="";return t="iphone"===e||"android"===e?"imeituan://www.meituan.com/merchant?channel=food&id=":"/i/poi/"},getDealHref:function(e){var t="";return t="iphone"===e||"android"===e?"imeituan://www.meituan.com/deal?channel=food&did=":"/i/deal/"},getGrabHref:function(e,t){var n="";return n=e?t?"imeituan://www.meituan.com/food/submit/order?dealID=":"imeituan://www.meituan.com/food/submitorder?dealID=":"https://meishi.meituan.com/i/order/"},getBuyUrl:function(e){var t="";return t="iphone"===e?"imeituan://www.meituan.com/food/submitorder?dealID=":"android"===e?"imeituan://www.meituan.com/submitorder?dealId=":"/i/order/"},getPrice:function(e){var t=(e/100).toFixed(1);return 10*t%10===0&&(t=parseInt(t)),t},formatPrice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},isLoginServer:function(e,t){return!(!+e||!t)},jsEscapeString:function(e){return(""+e).replace(/["'\\\n\r\u2028\u2029]/g,function(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})},handleName:function(e){return e.forEach(function(e){e.userName&&e.userName.length>5?e.userName=e.userName.split("").splice(0,3).join("")+"***":e.userName||(e.userName="美团用户")}),e},enableBounces:function(e){e&&e.ready(function(){e.setBouncesEnabled&&e.setBouncesEnabled({enabled:0})})},hideNavigationBar:function(e){e&&e.ready(function(){e.setNavigationBarHidden&&e.setNavigationBarHidden({flag:1})})}}},207:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(208),a=o(r),i=n(215),s=o(i);e.exports={_getConfig:function(){return{paramList:["source","_sr","lch"],schema:[{name:"imeituan",urlMatchParams:["url","redirectURL"]},"meituanpayment"],ignore:["tel","mailto","ssh","javascript"]}},_getParamsToTranser:function(){var e=this._getConfig().paramList,t=a.default.getUrlParams(),n={};return e.forEach(function(e){e in t&&(n[e]=t[e])}),n},_insertParamsToUrl:function(e,t){var n="",o=t.indexOf("#"),r=t;o>0&&(n=t.slice(o),r=t.slice(0,o));var i=r.indexOf("?"),l=r,c={};i>0&&(c=a.default.getUrlParams(r.slice(i,r.length)),l=r.slice(0,i));var u=/^imeituan:\/\//.test(t)||/^dianping:\/\//.test(t),f={},p=this._getConfig();Object.keys(e).forEach(function(t){(!u||u&&"lch"===t)&&(f[t]=c[t]||e[t])}),Object.keys(c).forEach(function(e){p.paramList.indexOf(e)===-1&&(f[e]=c[e])});var d=void 0,h=s.default.stringify(f);return d=h?l+"?"+h+n:l+n},_checkSchema:function(e,t){var n=e||[];return!!n.length&&new RegExp("^("+n.join("|")+"):").exec(t)},_checkUrlMatchParams:function(e,t){var n=e||[];return!!n.length&&new RegExp("[\\&\\?]("+n.join("|")+")(?=[\\&=]|$)").exec(t)},getUrlWithTransferParams:function(e){var t=this,n=e,o=this._getConfig();if(!n||/^#/.test(n)||this._checkSchema(o.ignore,n))return n;var r=[],a={};o.schema=o.schema||[],o.schema.forEach(function(e){"[object Object]"===Object.prototype.toString.call(e)?(r.push(e.name),a[e.name]=e.urlMatchParams):r.push(e)});var i=this._getParamsToTranser(),s=this._checkSchema(r,n);if(s){var l=a[s[1]];if(l&&this._checkUrlMatchParams(l,n)){var c=new RegExp("([\\&\\?](?:"+l.join("|")+")=?)(.*?)(?=\\&|$)");n=n.replace(c,function(e,n,o){if(!o.length)return n;var r=t._insertParamsToUrl(i,decodeURIComponent(o));return n+encodeURIComponent(r)})}else n=this._insertParamsToUrl(i,n)}else n=this._insertParamsToUrl(i,n);return n}}},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(209),r=n(211),a=n(212),i=o.buildservice.host,s=o.buildservice.path,l=o.buildservice.port,c=!0,u=o.buildservice.repo,f=o.buildservice.hash;f=f.slice(0,14);var p=i+(l?":"+l:"");if(s)switch(!0){case"/"===s.charAt(0)&&/\/$/.test(p):p+=s.slice(1);break;case"/"!==s.charAt(0)&&!/\/$/.test(p):p=p+"/"+s;break;default:p+=s}/\/$/.test(p)&&(p=p.slice(0,-1));var d=/^https?:\/\/|^\/\//i;t.default={prefix:p,url:function(e,t){return r(e,t,{prefix:p,noMinify:c,repo:u,hash:f})},isAbsolute:function(e){return d.test(e)},getUrlParams:function(e){if(e=e||("undefined"!=typeof window?document.location.search:""),!e)return{};for(var t={},n=0===e.indexOf("?")?e.slice(1):e,o=n.split("&"),r=0;r<o.length;r++){var a=o[r].split("=");2===a.length&&(t[a[0]]=a[1])}return t},setUrlParam:function(e,t){if(e=e||"",e.indexOf("?")!=-1){e=e.substring(1);for(var n=e.split("&"),o=[],r=0,a=0;a<n.length;a++)if(n[a]){var i=n[a].split("=");t.key==i[0]?(r=1,o.push(t.key+"="+t.val)):"page"!=i[0]&&"token"!=i[0]&&o.push(n[a])}return r||o.push(t.key+"="+t.val),"?"+o.join("&")}return"?"+t.key+"="+t.val},getImeituanJumpUrl:function(e){var t=a.parse(e);if(!t)return"";var n=t.protocol;if("imeituan:"===n){var o=t.pathname;if("/web"===o){var r=decodeURIComponent(t.query);return r.slice(4)||""}return""}return e}},e.exports=t.default},209:function(e,t,n){"use strict";var o=n(210),r="undefined"!=typeof window?window:{appConfig:o};e.exports=r.appConfig},210:function(e,t){e.exports={}},211:function(e,t){"use strict";function n(e){for(var t=e.length,n=0,o=0;o<t;o+=3)n+=e.charCodeAt(o)||0;return n}e.exports=function(e,t,o){var r=o.prefix,a=o.noMinify,i=o.repo,s=o.hash;e=[].concat(e),t||(t=/(js|jsx)$/.test(e[0])?"js":/(css)$/.test(e[0])?"css":"file");var l=/js|css/.test(t)&&a?"m":"",c=e.join(","),u=r.indexOf("*")>-1?r.replace("*",n(c)%2):r;return u="/"===u.charAt(0)?u:"//"+u,u+"/"+t+l+"?f="+i+":"+c+"@"+s}},212:function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&c.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function a(e){return c.isString(e)&&(e=r(e)),e instanceof o?e.format():o.prototype.format.call(e)}function i(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=n(213),c=n(214);t.parse=r,t.resolve=i,t.resolveObject=s,t.format=a,t.Url=o;var u=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(h),y=["%","/","?",";","#"].concat(m),v=["/","?","#"],b=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=n(215);o.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),r=o!==-1&&o<e.indexOf("#")?"?":"#",a=e.split(r),i=/\\/g;a[0]=a[0].replace(i,"/"),e=a.join(r);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=p.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=u.exec(s);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===s.substr(0,2);!j||d&&_[d]||(s=s.substr(2),this.slashes=!0)}if(!_[d]&&(j||d&&!O[d])){for(var N=-1,T=0;T<v.length;T++){var P=s.indexOf(v[T]);P!==-1&&(N===-1||P<N)&&(N=P)}var k,C;C=N===-1?s.lastIndexOf("@"):s.lastIndexOf("@",N),C!==-1&&(k=s.slice(0,C),s=s.slice(C+1),this.auth=decodeURIComponent(k)),N=-1;for(var T=0;T<y.length;T++){var P=s.indexOf(y[T]);P!==-1&&(N===-1||P<N)&&(N=P)}N===-1&&(N=s.length),this.host=s.slice(0,N),s=s.slice(N),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var S=this.hostname.split(/\./),T=0,A=S.length;T<A;T++){var M=S[T];if(M&&!M.match(g)){for(var L="",R=0,D=M.length;R<D;R++)L+=M.charCodeAt(R)>127?"x":M[R];if(!L.match(g)){var U=S.slice(0,T),H=S.slice(T+1),q=M.match(w);q&&(U.push(q[1]),H.unshift(q[2])),H.length&&(s="/"+H.join(".")+s),this.hostname=U.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=l.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!E[h])for(var T=0,A=m.length;T<A;T++){var B=m[T];if(s.indexOf(B)!==-1){var X=encodeURIComponent(B);X===B&&(X=escape(B)),s=s.split(B).join(X)}}var W=s.indexOf("#");W!==-1&&(this.hash=s.substr(W),s=s.slice(0,W));var $=s.indexOf("?");if($!==-1?(this.search=s.substr($),this.query=s.substr($+1),t&&(this.query=x.parse(this.query)),s=s.slice(0,$)):t&&(this.search="",this.query={}),s&&(this.pathname=s),O[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",K=this.search||"";this.path=F+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(a=x.stringify(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||O[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+r+n+i+o},o.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(c.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var i=r[a];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(n[u]=e[u])}return O[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!O[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var d=f[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=b||v||n.host&&e.pathname,w=g,E=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],x=n.protocol&&!O[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),g=g&&(""===h[0]||""===E[0])),
b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(x){n.hostname=n.host=E.shift();var j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var N=E.slice(-1)[0],T=(n.host||e.host||E.length>1)&&("."===N||".."===N)||""===N,P=0,k=E.length;k>=0;k--)N=E[k],"."===N?E.splice(k,1):".."===N?(E.splice(k,1),P++):P&&(E.splice(k,1),P--);if(!g&&!w)for(;P--;P)E.unshift("..");!g||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var C=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(x){n.hostname=n.host=C?"":E.length?E.shift():"";var j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return g=g||n.host&&E.length,g&&!C&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},213:function(e,t,n){var o;(function(e,r){!function(a){function i(e){throw RangeError(S[e])}function s(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function l(e,t){var n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(I,".");var r=e.split("."),a=s(r,t).join(".");return o+a}function c(e){for(var t,n,o=[],r=0,a=e.length;r<a;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<a?(n=e.charCodeAt(r++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--)):o.push(t);return o}function u(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var o=0;for(e=n?M(e/j):e>>1,e+=M(e/t);e>A*O>>1;o+=E)e=M(e/A);return M(o+(A+1)*e/(e+x))}function h(e){var t,n,o,r,a,s,l,c,p,h,m=[],y=e.length,v=0,b=T,g=N;for(n=e.lastIndexOf(P),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&i("not-basic"),m.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<y;){for(a=v,s=1,l=E;r>=y&&i("invalid-input"),c=f(e.charCodeAt(r++)),(c>=E||c>M((w-v)/s))&&i("overflow"),v+=c*s,p=l<=g?_:l>=g+O?O:l-g,!(c<p);l+=E)h=E-p,s>M(w/h)&&i("overflow"),s*=h;t=m.length+1,g=d(v-a,t,0==a),M(v/t)>w-b&&i("overflow"),b+=M(v/t),v%=t,m.splice(v++,0,b)}return u(m)}function m(e){var t,n,o,r,a,s,l,u,f,h,m,y,v,b,g,x=[];for(e=c(e),y=e.length,t=T,n=0,a=N,s=0;s<y;++s)m=e[s],m<128&&x.push(L(m));for(o=r=x.length,r&&x.push(P);o<y;){for(l=w,s=0;s<y;++s)m=e[s],m>=t&&m<l&&(l=m);for(v=o+1,l-t>M((w-n)/v)&&i("overflow"),n+=(l-t)*v,t=l,s=0;s<y;++s)if(m=e[s],m<t&&++n>w&&i("overflow"),m==t){for(u=n,f=E;h=f<=a?_:f>=a+O?O:f-a,!(u<h);f+=E)g=u-h,b=E-h,x.push(L(p(h+g%b,0))),u=M(g/b);x.push(L(p(u,0))),a=d(n,v,o==r),n=0,++o}++n,++t}return x.join("")}function y(e){return l(e,function(e){return k.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return C.test(e)?"xn--"+m(e):e})}var b=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);b.global!==b&&b.window!==b&&b.self!==b||(a=b);var g,w=2147483647,E=36,_=1,O=26,x=38,j=700,N=72,T=128,P="-",k=/^xn--/,C=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=E-_,M=Math.floor,L=String.fromCharCode;g={version:"1.3.2",ucs2:{decode:c,encode:u},decode:h,encode:m,toASCII:v,toUnicode:y},o=function(){return g}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}(this)}).call(t,n(2)(e),function(){return this}())},214:function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},215:function(e,t,n){"use strict";t.decode=t.parse=n(216),t.encode=t.stringify=n(217)},216:function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,r){t=t||"&",o=o||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,f,p,d,h=e[c].replace(i,"%20"),m=h.indexOf(o);m>=0?(u=h.substr(0,m),f=h.substr(m+1)):(u=h,f=""),p=decodeURIComponent(u),d=decodeURIComponent(f),n(a,p)?Array.isArray(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a}},217:function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,o,r){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var a=encodeURIComponent(n(r))+o;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+o+encodeURIComponent(n(e)):""}},218:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=n(208),u=n(206),f=o(u),p=n(219),d=o(p),h=n(41),m=o(h),y=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={src:(0,c.url)("img/default.png"),domHeight:0,style:{height:"auto",width:"auto"},boxStyle:{width:"100%",height:"100%"},imgStyle:{height:"auto",width:"auto",left:0,top:0}},n.defaultFontSize=100,n.maxDpr=2,n.handleImageLoaded=n.handleImageLoaded.bind(n),n}return i(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.height,n=e.width,o=e.scale,r=this.state,a=r.style,i=r.domHeight,s=this.defaultFontSize;o||(isFinite(n)?a.width=(parseInt(n,10)/s).toFixed(2)+"rem":/%/.test(n)&&(a.width="100%"),isFinite(t)?a.height=(parseInt(t,10)/s).toFixed(2)+"rem":/%/.test(t)&&(a.height="100%"),this.setState({style:a,domHeight:i}))},t.prototype.componentDidMount=function(){this.resizeImg(this.props)},t.prototype.componentWillReceiveProps=function(e){(this.props.imgUrl!==e.imgUrl||e.forceResize)&&this.resizeImg(e)},t.prototype.getDpr=function(){var e=this.maxDpr,t=window,n=t.devicePixelRatio,o=1;return o=n>=3?3:n>=2?2:1,Math.min(e,o)},t.prototype.handleImageLoaded=function(){var e=this.props.scale,t=e.split("/"),n=t[0]/t[1],o=this.imgContainer.parentNode.offsetWidth,r={w:o,h:o/n},a={w:this.imgContainer.offsetWidth,h:this.imgContainer.offsetHeight},i=void 0,s=void 0,l=0,c=0;a.w/a.h>n?(s=r.h,i=a.w/a.h*s,l=(r.w-i)/2):(i=r.w,s=a.h/a.w*i,c=(r.h-s)/2),this.setState({boxStyle:{width:r.w?r.w:"100%",height:r.h?r.h:"100%"},imgStyle:{width:i||"auto",height:s||"auto",top:c||0,left:l||0}})},t.prototype.resizeImg=function(e){var t=e.height,n=e.width,o=e.inheritParent,r=void 0!==o&&o,a=e.imgScale,i=void 0===a||a,s=e.scale,l=e.imgUrl;if(s)return void this.handleImageLoaded();var c=this.defaultFontSize,u={},p=this.getDpr(),d=window.innerWidth||document.documentElement.clientWidth,h=0,m=0,y=document.documentElement,v=parseFloat(y.style.fontSize);isFinite(n)?(h=(n*v*p/c).toFixed(0),u.width=(parseInt(n,10)/c).toFixed(2)+"rem"):/%/.test(n)&&(r&&this.imgContainer.parentNode&&this.imgContainer.parentNode.offsetWidth&&(d=this.imgContainer.parentNode.offsetWidth),h=parseInt(d*parseFloat(n)*p/100,10),u.width=(h/(v*p)).toFixed(2)+"rem"),isFinite(t)?(m=(t*v*p/c).toFixed(0),u.height=(parseInt(t,10)/c).toFixed(2)+"rem"):/%/.test(t)?(r&&this.imgContainer.parentNode&&this.imgContainer.parentNode.offsetHeight&&(d=this.imgContainer.parentNode.offsetHeight),m=parseInt(d*parseFloat(t)*p/100,10),u.height=(m/(v*p)).toFixed(2)+"rem"):"width"===t&&(m=d,u.height=u.width),(/p[0|1].meituan.net/.test(l)||/img.meituan.net/.test(l))&&(l=f.default.getImageUrl(l),l=i?l+"@"+h+"w_"+m+"h_1e_1c":l+"@"+n+"w_"+t+"h_1e_1c"),this.setState({src:l,style:u,domHeight:m})},t.prototype.render=function(){var e=this,t=this.state,n=t.style,o=t.domHeight,r=t.boxStyle,a=t.imgStyle,i=this.props,s=i.scale,c=i.imgUrl,u=i.isDp,f=void 0!==u&&u,p=i.offset,h=void 0===p?0:p,m=i.overflow,y=void 0!==m&&m;return s?l.default.createElement("div",{className:"img-box",style:r},l.default.createElement("img",{src:c,style:a,ref:function(t){e.imgContainer=t},onLoad:this.handleImageLoaded,alt:""})):isFinite(o)?l.default.createElement("div",{ref:function(t){e.imgContainer=t},className:f?"imgbox-dp":"imgbox",style:n},l.default.createElement(d.default,{height:+o,once:!0,offset:h,overflow:y},l.default.createElement("img",{src:this.state.src,alt:""}))):l.default.createElement("div",{className:f?"imgbox-dp":"imgbox",style:n},l.default.createElement("img",{src:this.state.src,alt:""}))},t}(s.Component);t.default=y,y.propTypes={height:m.default.string,width:m.default.string,imgUrl:m.default.string.isRequired,inheritParent:m.default.bool,forceResize:m.default.bool,isDp:m.default.bool,offset:m.default.oneOfType([m.default.number,m.default.arrayOf(m.default.number)]),scale:m.default.string,overflow:m.default.bool},y.defaultProps={height:"",width:"",inheritParent:!1,forceResize:!1,isDp:!1,offset:0,scale:"",overflow:!1},e.exports=t.default},219:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(3),c=o(l),u=n(61),f=o(u),p=n(41),d=o(p),h=n(220),m=n(221),y=o(m),v=n(222),b=o(v),g=n(223),w=o(g),E=n(224),_=o(E),O={top:0,right:0,bottom:0,left:0,width:0,height:0},x="data-lazyload-listened",j=[],N=[],T=!1;try{var P=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("test",null,P)}catch(e){}var k=!!T&&{capture:!1,passive:!0},C=function(e,t){var n=f.default.findDOMNode(e),o=void 0,r=void 0;try{var a=t.getBoundingClientRect();o=a.top,r=a.height}catch(e){o=O.top,r=O.height}var i=window.innerHeight||document.documentElement.clientHeight,s=Math.max(o,0),l=Math.min(i,o+r)-s,c=void 0,u=void 0;try{var p=n.getBoundingClientRect();c=p.top,u=p.height}catch(e){c=O.top,u=O.height}var d=c-s,h=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return d-h[0]<=l&&d+u+h[1]>=0},I=function(e){var t=f.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,o=void 0;try{var r=t.getBoundingClientRect();n=r.top,o=r.height}catch(e){n=O.top,o=O.height}var a=window.innerHeight||document.documentElement.clientHeight,i=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-i[0]<=a&&n+o+i[1]>=0},S=function(e){var t=f.default.findDOMNode(e);if(t){var n=(0,y.default)(t),o=e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement,r=o?C(e,n):I(e);r?e.visible||(e.props.once&&N.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},A=function(){N.forEach(function(e){var t=j.indexOf(e);t!==-1&&j.splice(t,1)}),N=[]},M=function(){for(var e=0;e<j.length;++e){var t=j[e];S(t)}A()},L=void 0,R=null,D=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=!1;if(void 0!==this.props.debounce&&"throttle"===L?(console.warn("[react-lazyload] Previous delay function is `throttle`, now switching to `debounce`, try setting them unanimously"),e=!0):"debounce"===L&&void 0===this.props.debounce&&(console.warn("[react-lazyload] Previous delay function is `debounce`, now switching to `throttle`, try setting them unanimously"),e=!0),e&&((0,h.off)(window,"scroll",R,k),(0,h.off)(window,"resize",R,k),R=null),R||(void 0!==this.props.debounce?(R=(0,b.default)(M,"number"==typeof this.props.debounce?this.props.debounce:300),L="debounce"):void 0!==this.props.throttle?(R=(0,w.default)(M,"number"==typeof this.props.throttle?this.props.throttle:300),L="throttle"):R=M),this.props.overflow){var t=(0,y.default)(f.default.findDOMNode(this));if(t&&"function"==typeof t.getAttribute){var n=1+ +t.getAttribute(x);1===n&&t.addEventListener("scroll",R,k),t.setAttribute(x,n)}}else if(0===j.length||e){var o=this.props,r=o.scroll,a=o.resize;r&&(0,h.on)(window,"scroll",R,k),a&&(0,h.on)(window,"resize",R,k)}j.push(this),S(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,y.default)(f.default.findDOMNode(this));if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(x)-1;0===t?(e.removeEventListener("scroll",R,k),e.removeAttribute(x)):e.setAttribute(x,t)}}var n=j.indexOf(this);n!==-1&&j.splice(n,1),0===j.length&&((0,h.off)(window,"resize",R,k),(0,h.off)(window,"scroll",R,k))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:c.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(l.Component);D.propTypes={once:d.default.bool,height:d.default.oneOfType([d.default.number,d.default.string]),offset:d.default.oneOfType([d.default.number,d.default.arrayOf(d.default.number)]),overflow:d.default.bool,resize:d.default.bool,scroll:d.default.bool,children:d.default.node,throttle:d.default.oneOfType([d.default.number,d.default.bool]),debounce:d.default.oneOfType([d.default.number,d.default.bool]),placeholder:d.default.node,unmountIfInvisible:d.default.bool},D.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.lazyload=_.default;t.default=D,t.forceCheck=M}).call(t,n(143))},220:function(e,t){"use strict";function n(e,t,n,o){o=o||!1,e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})}function o(e,t,n,o){o=o||!1,e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=n,t.off=o},221:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,o=e;o;){if(!o.parentNode)return e.ownerDocument||document.documentElement;var r=window.getComputedStyle(o),a=r.position,i=r.overflow,s=r["overflow-x"],l=r["overflow-y"];if("static"===a&&t)o=o.parentNode;else{if(n.test(i)&&n.test(s)&&n.test(l))return o;o=o.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},222:function(e,t){"use strict";function n(e,t,n){var o=void 0,r=void 0,a=void 0,i=void 0,s=void 0,l=function l(){var c=+new Date-i;c<t&&c>=0?o=setTimeout(l,t-c):(o=null,n||(s=e.apply(a,r),o||(a=null,r=null)))};return function(){a=this,r=arguments,i=+new Date;var c=n&&!o;return o||(o=setTimeout(l,t)),c&&(s=e.apply(a,r),a=null,r=null),s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},223:function(e,t){"use strict";function n(e,t,n){t||(t=250);var o,r;return function(){var a=n||this,i=+new Date,s=arguments;o&&i<o+t?(clearTimeout(r),r=setTimeout(function(){o=i,e.apply(a,s)},t)):(o=i,e.apply(a,s))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},224:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(3),c=o(l),u=n(219),f=o(u),p=function(e){return e.displayName||e.name||"Component"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function o(){r(this,o);var e=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.displayName="LazyLoad"+p(t),e}return i(o,n),s(o,[{key:"render",value:function(){return c.default.createElement(f.default,e,c.default.createElement(t,this.props))}}]),o}(l.Component)}}},236:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=function(e){function t(){var n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,e.call.apply(e,[this].concat(l))),o.state={show:!1,text:""},i=n,a(o,i)}return i(t,e),t.prototype.show=function(e,t){var n=this;if(!this.state.show){var o=t||1e3;this.setState({text:e,show:!0}),setTimeout(function(){return n.setState({show:!1})},o)}},t.prototype.hide=function(){this.setState({show:!1})},t.prototype.render=function(){var e={display:this.state.show?"block":"none"};return l.default.createElement("div",{className:"meishi-msg-toast",style:e},l.default.createElement("div",{className:"meishi-msg-toast-content"},this.state.text))},t}(s.Component);t.default=c,e.exports=t.default},240:function(e,t,n){var o=n(241);e.exports=function(e,t,n){return void 0===n?o(e,t,!1):o(e,n,t!==!1)}},241:function(e,t){e.exports=function(e,t,n,o){function r(){function r(){i=Number(new Date),n.apply(l,u)}function s(){a=void 0}var l=this,c=Number(new Date)-i,u=arguments;o&&!a&&r(),a&&clearTimeout(a),void 0===o&&c>e?r():t!==!0&&(a=setTimeout(o?s:r,void 0===o?e-c:e))}var a,i=0;return"boolean"!=typeof t&&(o=n,n=t,t=void 0),r}},298:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(61),p=o(f),d=n(240),h=o(d),m=n(299),y=o(m),v=n(302),b=o(v),g=n(303),w=o(g),E=n(304),_=o(E),O=n(236),x=o(O),j=n(305),N=o(j),T=n(306),P=o(T),k=n(307),C=(o(k),n(308)),I=o(C),S=n(205),A=o(S),M=n(206),L=o(M),R=n(201),D=(l=s=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.delegateScroll=function(e,t,n){window.setTimeout(function(){var o=document.querySelectorAll("["+e+"]");o=Array.from(o),o.forEach(function(o){if(L.default.unveil(o,null,n)){var r=o.getAttribute(e);r&&t&&t(r,o),o.removeAttribute(e)}})},0)},t.prototype.handleScroll=function(e){this.delegateScroll("data-midas3",A.default.sendViewLog.bind(A.default),!0),this.delegateScroll("data-view",R.mge)},t.prototype.adjustHeight=function(){var e=window&&window.navigator&&window.navigator.userAgent,t=1;e&&/(ipad|iphone|ipod)/i.exec(e)&&window.devicePixelRatio>=2&&(t*=2);var n=p.default.findDOMNode(this.refs.cw);if("meituan"===this.props.scene||"dianping"===this.props.scene)n.style.minHeight=document.documentElement.clientHeight+"px",n.style.marginBottom="0px";else{var o=document.documentElement.clientHeight-530*t/2;n.style.minHeight=o+"px";var r=document.getElementById("contentWrapper");r&&(["c_05wQm","c_yDrDR","c_6NCia"].indexOf(this.props.pageId)>-1?r.style.minHeight=o-66*t/2+"px":r.style.minHeight=o+"px")}},t.prototype.showToast=function(e,t){this.refs.toast.show(e,t)},t.prototype.componentWillMount=function(){this.setState({showOpenAppDialog:this.props.showOpenAppDialog})},t.prototype.componentDidMount=function(){var e=this;this.listener=(0,P.default)(window,"resize",this.adjustHeight.bind(this)),this.adjustHeight(),"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){window.FastClick&&window.FastClick.attach(document.body)},!1),window.addEventListener("scroll",(0,h.default)(300,e.handleScroll.bind(e))),window.addEventListener("touchmove",(0,h.default)(300,e.handleScroll.bind(e))),this.handleScroll()},t.prototype.componentWillUnmount=function(){this.listener.remove(),window.removeEventListener("scroll",this.handleScroll.bind(this)),window.removeEventListener("touchmove",this.handleScroll.bind(this))},t.prototype.render=function(){var e=this.props,t=(e.pageId,e.id,e.userName),n=void 0===t?"":t,o=e.cityName,r=void 0===o?"北京":o,a=(e.backUrl,e.scene),i=void 0===a?"i":a,s=e.appDownloadConfig,l=void 0===s?null:s,c=e.showAppDownload,f=void 0===c||c,p=e.useNewHeader,d=void 0!==p&&p,h=e.showToTop,m=void 0===h||h,v=e.hidehf,g=void 0===v?"":v,E=Object.assign({showToast:this.showToast.bind(this)},this.props),O=d?u.default.createElement(b.default,E):u.default.createElement(y.default,E);return!d||"dianping"!==i&&"meituan"!==i?"true"===g||"dianping"===i||"meituan"===i||"dpwxapp"===i||"mtwxapp"===i?u.default.createElement("div",{className:"main-content"},u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),"meituan"===i&&"true"===m?u.default.createElement(_.default,null):"","meituan"===i?u.default.createElement(x.default,{ref:"toast"}):""):u.default.createElement("div",{className:"main-content"},O,u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),u.default.createElement(_.default,null),u.default.createElement(w.default,{userName:n,cityName:r}),u.default.createElement(x.default,{ref:"toast"}),u.default.createElement(N.default,{ref:"dialog"}),f&&l?u.default.createElement(I.default,l):""):u.default.createElement("div",{className:"main-content"},O,u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),"meituan"===i?u.default.createElement(_.default,null):"","meituan"===i?u.default.createElement(x.default,{ref:"toast"}):"")},t}(c.Component),s.propTypes={pageId:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]).isRequired,id:u.default.PropTypes.oneOfType([u.default.PropTypes.number,u.default.PropTypes.string]),userName:u.default.PropTypes.string,cityName:u.default.PropTypes.string,backUrl:u.default.PropTypes.string,scene:u.default.PropTypes.string,hidehf:u.default.PropTypes.string},l);t.default=D,e.exports=t.default},299:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,f=n(3),p=o(f),d=n(33),h=n(300),m=o(h),y=n(301),v=o(y),b=n(204),g=o(b),w=(0,d.connect)((u=c=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={showNavList:!1,referer:""},n.pageConfig={c_05wQm:{title:"美食",backUrl:"https://i.meituan.com/",showSearch:!0,showAccount:!0},c_6NCia:{title:"商家详情",showCollectPoi:!0,showMenu:!0},c_hrrOb:{title:"商家相册"},c_yDrDR:{title:"团购详情",showCollectDeal:!0,showMenu:!0},c_4A8XZ:{title:"商家列表",showHome:!0,showAccount:!0},c_8rqx6:{title:"团购详情",showHome:!0,showSearch:!0},c_FxXkF:{title:"提交订单"},c_lwcCr:{title:"如何获取抵用券",showMenu:!0},c_f8u6k:{title:"支付订单",showHome:!0,showAccount:!0},c_AFSGC:{title:"订单详情",showHome:!0,showSearch:!0},c_gphEA:{title:"申请退款",showMenu:!0},c_CwLIh:{title:"申请退款",showMenu:!0},c_pLhT1:{title:"出错了",showMenu:!0},c_Vvloa:{title:"出错了"}},n}return i(t,e),t.prototype.goBack=function(e){e.preventDefault(),window.history.back()},t.prototype.toggleNavList=function(e){e.preventDefault(),this.setState({showNavList:!this.state.showNavList})},t.prototype.hideNavList=function(e){e&&e.preventDefault(),this.setState({showNavList:!1})},t.prototype.componentDidMount=function(){this.setState({referer:document.referrer})},t.prototype.render=function(){var e=this,t=this.props,n=t.pageId,o=void 0===n?"c_pLhT1":n,r=t.id,a=void 0===r?0:r,i=t.showToast,l=void 0===i?s:i,c=t.backUrl,u=void 0===c?"":c,f=t.title,d=this.state,h=d.showNavList,y=d.referer,b=this.pageConfig[o]||this.pageConfig.c_pLhT1;b.backUrl=u||b.backUrl||"";var w=p.default.createElement("div",{className:"nav-wrap-left"},b.backUrl?p.default.createElement(g.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+b.backUrl+'", "referer": "'+y+'"}}',className:"react back",href:b.backUrl},p.default.createElement("i",{className:"text-icon icon-back"})):p.default.createElement(g.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+b.backUrl+'", "referer": "'+y+'"}}',className:"react back",href:"#",onClick:function(t){return e.goBack(t)}},p.default.createElement("i",{className:"text-icon icon-back"}))),E=p.default.createElement("div",{className:"nav-wrap-right"},b.showHome&&p.default.createElement(g.default,{gaevent:"b_drpHl",href:"https://i.meituan.com/"},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:"text-icon icon-sp icon-home icon-home-lg"}),"首页")),b.showAccount&&p.default.createElement(g.default,{gaevent:"b_dqsWt",href:"https://i.meituan.com/account"},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:"text-icon icon-sp icon-person-40"}),"我的")),b.showSearch&&p.default.createElement(g.default,{gaevent:"b_zwCC4",href:"https://i.meituan.com/s/?cateId=1&cateType=poi"},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:"text-icon icon-sp icon-search"}),"搜索")),b.showCollectPoi&&p.default.createElement(v.default,{showToast:l,handleClick:this.hideNavList.bind(this),id:a}),b.showCollectDeal&&p.default.createElement(m.default,{showToast:l,handleClick:this.hideNavList.bind(this),id:a}),b.showMenu&&p.default.createElement(g.default,{gaevent:'{"bid":"b_WB0Z9","lab":{"operate":"'+(h?"hide":"show")+'"}}',href:"#",onClick:this.toggleNavList.bind(this)},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:"text-icon icon-sp icon-menu"}),"导航"))),_="";return b.showMenu&&(_=p.default.createElement("div",{className:h?"nav-dropdown active":"nav-dropdown"},p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement(g.default,{gaevent:"b_IYbHQ",href:"https://i.meituan.com/"},p.default.createElement("i",{className:"text-icon icon-sp icon-home"}),"首页")),p.default.createElement("li",null,p.default.createElement(g.default,{gaevent:"b_6U5je",href:"https://i.meituan.com/account/"},p.default.createElement("i",{className:"text-icon icon-sp icon-person-34"}),"我的"))))),p.default.createElement("header",{className:"navbar"},w,p.default.createElement("div",{className:"nav-header"},f),E,_)},t}(f.Component),c.propTypes={pageId:p.default.PropTypes.oneOfType([p.default.PropTypes.string,p.default.PropTypes.number]).isRequired,id:p.default.PropTypes.oneOfType([p.default.PropTypes.number,p.default.PropTypes.string]),showToast:p.default.PropTypes.func},l=u))||l;t.default=w,e.exports=t.default},300:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(43),h=o(d),m=n(204),y=o(m),v=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={collected:!1,message:"收藏"},n}return i(t,e),t.prototype.handleClick=function(e){var t=this;e.preventDefault(),this.props.handleClick(),this.state.collected?h.default.post("/i/api/collection/delete/deal/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,n){if(e)console.log(e);else{var o=n.body;0!==o.status?t.props.showToast("取消收藏失败"):(t.setState({collected:o.data.collected,message:o.data.collected?"取消收藏":"收藏"}),t.props.showToast(o.data.collected?"取消收藏失败":"取消收藏成功"))}}):h.default.post("/i/api/collection/add/deal/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,n){
if(e)console.log(e);else{var o=n.body;0!==o.status?t.props.showToast("收藏失败"):(t.setState({collected:o.data.collected,message:o.data.collected?"取消收藏":"收藏"}),t.props.showToast(o.data.collected?"收藏成功":"收藏失败"))}})},t.prototype.componentDidMount=function(){},t.prototype.shouldComponentUpdate=function(e,t){return t.collected!==this.state.collected},t.prototype.render=function(){var e=this.props.id,t=this.state,n=t.collected,o=t.message;return f.default.createElement(y.default,{href:"#",gaevent:'{"bid":"b_R2AR0","lab":{"poiId":"'+e+'", "operate":"'+o+'"}}',onClick:this.handleClick.bind(this)},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:n?"text-icon icon-sp icon-collected":"text-icon icon-sp icon-collect"}),o))},t}(u.Component),l.propTypes={handleClick:f.default.PropTypes.func.isRequired,id:f.default.PropTypes.oneOfType([f.default.PropTypes.number,f.default.PropTypes.string]),showToast:f.default.PropTypes.func},s=c))||s;t.default=v,e.exports=t.default},301:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(43),h=o(d),m=n(204),y=o(m),v=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={collected:!1,message:"收藏"},n}return i(t,e),t.prototype.handleClick=function(e){var t=this;e.preventDefault(),this.props.handleClick(),this.state.collected?h.default.post("/i/api/collection/delete/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,n){if(e)console.log(e);else{var o=n.body;0!==o.status?t.props.showToast("取消收藏失败"):(t.setState({collected:o.data.collected,message:o.data.collected?"取消收藏":"收藏"}),t.props.showToast(o.data.collected?"取消收藏失败":"取消收藏成功"))}}):h.default.post("/i/api/collection/add/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,n){if(e)console.log(e);else{var o=n.body;0!==o.status?t.props.showToast("收藏失败"):(t.setState({collected:o.data.collected,message:o.data.collected?"取消收藏":"收藏"}),t.props.showToast(o.data.collected?"收藏成功":"收藏失败"))}})},t.prototype.componentDidMount=function(){var e=this;h.default.post("/i/api/collection/get/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,n){if(t)console.log(t);else{var o=n.body;0!==o.status?console.log(o):e.setState({collected:o.data.collected,message:o.data.collected?"取消收藏":"收藏"})}})},t.prototype.shouldComponentUpdate=function(e,t){return t.collected!==this.state.collected},t.prototype.render=function(){var e=this.props.id,t=this.state,n=t.collected,o=t.message;return f.default.createElement(y.default,{href:"#",gaevent:'{"bid":"b_XVoYV","lab":{"poiId":"'+e+'", "operate":"'+o+'"}}',onClick:this.handleClick.bind(this)},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:n?"text-icon icon-sp icon-collected":"text-icon icon-sp icon-collect"}),o))},t}(u.Component),l.propTypes={handleClick:f.default.PropTypes.func.isRequired,id:f.default.PropTypes.oneOfType([f.default.PropTypes.number,f.default.PropTypes.string]),showToast:f.default.PropTypes.func},s=c))||s;t.default=v,e.exports=t.default},302:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(300),p=(o(f),n(301)),d=(o(p),n(204)),h=o(d),m=n(240),y=o(m),v=n(40),b=o(v),g=n(33),w=(l=s=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={showNavList:!1,referer:"",didHideNavBar:!1},n.pageConfig={c_05wQm:{title:"美食",backUrl:"https://i.meituan.com/",nativeBackUrl:"imeituan://www.meituan.com/home",showSearch:!0,showAccount:!0}},n}return i(t,e),t.prototype.componentWillMount=function(){var e=this;"undefined"!=typeof window&&window.KNB&&KNB.ready(function(){KNB.setNavigationBarHidden({flag:1,success:function(){e.setState({didHideNavBar:!0}),g.state.set("didHideNavBar",1);var t=document.body;t.classList.add("hide-webview-navbar")},fail:function(){}})})},t.prototype.componentDidMount=function(){var e=this;this.setState({referer:document.referrer});var t=this.props.onlyList;"undefined"==typeof window||t||(this.headerScrollHandler=(0,y.default)(10,e.scrollHandler.bind(e)),window.addEventListener("scroll",this.headerScrollHandler),window.addEventListener("touchmove",this.headerScrollHandler))},t.prototype.componentWillUnmount=function(){window.addEventListener("scroll",this.headerScrollHandler),window.addEventListener("touchmove",this.headerScrollHandler)},t.prototype.goBack=function(e){e.preventDefault(),window.history.back()},t.prototype.toggleNavList=function(e){e.preventDefault(),this.setState({showNavList:!this.state.showNavList})},t.prototype.hideNavList=function(e){e&&e.preventDefault(),this.setState({showNavList:!1})},t.prototype.scrollHandler=function(){if(g.state.get("noBanner"))return"";var e=document.documentElement,t=document.body.scrollTop+e.scrollTop,n=1.8*parseInt(e.style.fontSize,10),o=(t/n).toFixed(1);o=o>1?1:o;var r=this.header;r&&(r.style.background="rgba(250, 250, 250, "+o+")"),o>=1?r.classList.add("scrolled"):r.classList.remove("scrolled")},t.prototype.render=function(){var e=this,t=this.props,n=t.pageId,o=void 0===n?"c_pLhT1":n,r=(t.id,t.showToast,t.backUrl),a=void 0===r?"":r,i=(t.title,t.onlyList),s=this.state,l=(s.showNavList,s.referer),c=s.didHideNavBar,f=this.pageConfig[o]||this.pageConfig.c_pLhT1;f.backUrl=a||f.backUrl||"",f.backUrl=c?f.nativeBackUrl:f.backUrl;var p=u.default.createElement("div",{className:"nav-wrap-left"},f.backUrl&&!i?u.default.createElement(h.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+f.backUrl+'", "referer": "'+l+'"}}',className:"react back",href:"#",onClick:function(e){return window.location=f.backUrl}},u.default.createElement("i",{className:"text-icon icon-back"})):u.default.createElement(h.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+f.backUrl+'", "referer": "'+l+'"}}',className:"react back",href:"#",onClick:function(t){return e.goBack(t)}},u.default.createElement("i",{className:"text-icon icon-back"}))),d=u.default.createElement("div",{className:"nav-wrap-right"},f.showAccount&&u.default.createElement(h.default,{gaevent:"b_dqsWt",href:"https://i.meituan.com/account"},u.default.createElement("span",{className:"nav-btn"},u.default.createElement("i",{className:"person-icon"})))),m=(0,b.default)({"new-navbar":!0,scrolled:i,nonavbar:c});return u.default.createElement("header",{className:m,ref:function(t){return e.header=t}},p,u.default.createElement("div",{className:"new-nav-header"},f.showSearch&&u.default.createElement(h.default,{gaevent:"b_zwCC4",href:"https://i.meituan.com/s/?cateId=1&cateType=poi"},u.default.createElement("span",{className:"nav-search"},u.default.createElement("i",{className:"search-icon"}),"输入商家名、品类或商圈"))),d)},t}(c.Component),s.propTypes={pageId:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]).isRequired,id:u.default.PropTypes.oneOfType([u.default.PropTypes.number,u.default.PropTypes.string]),showToast:u.default.PropTypes.func,onlyList:u.default.PropTypes.bool},l);t.default=w,e.exports=t.default},303:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(204),h=o(d),m=(0,p.connect)((c=l=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.userName,n=void 0===t?"":t,o=e.cityName,r=void 0===o?"北京":o,a="";return a=n?f.default.createElement(h.default,{href:"https://i.meituan.com/account/",gaevent:"b_RduIu",className:"btn btn-weak footer-mine-btn",rel:"nofollow"},n):f.default.createElement("div",{className:"login-container"},f.default.createElement(h.default,{href:"https://i.meituan.com/account/login",gaevent:'{"bid":"b_Vvu6c","lab":{"operate":"login"}}',className:"btn btn-weak",rel:"nofollow"},"登录"),f.default.createElement(h.default,{href:"https://i.meituan.com/account/signup",gaevent:'{"bid":"b_Vvu6c","lab":{"operate":"signup"}}',className:"btn btn-weak",rel:"nofollow"},"注册")),f.default.createElement("div",{className:"footer-container"},f.default.createElement("div",{className:"footer-bar"},f.default.createElement("div",{className:"pull-right"},f.default.createElement("span",null,"城市: "),f.default.createElement(h.default,{href:"https://i.meituan.com/index/changecity/",gaevent:"b_G6Smk",className:"btn btn-weak footer-city-btn"},r)),a),f.default.createElement("div",{className:"footer-nav"},f.default.createElement("ul",null,f.default.createElement("li",null,f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"homePage"}}',href:"https://i.meituan.com/"},"首页")),f.default.createElement("li",null,f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"allOrder"}}',rel:"nofollow",href:"https://i.meituan.com/orders/all"},"订单")),f.default.createElement("li",null,f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"app"}}',rel:"nofollow",href:"https://i.meituan.com/client"},"客户端")),f.default.createElement("li",null,f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"pc"}}',href:"https://www.meituan.com?pcstyle=1"},"电脑版")),f.default.createElement("li",null,f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"help"}}',rel:"nofollow",href:"https://i.meituan.com/help/"},"帮助")))),f.default.createElement("div",{className:"footer-links"},"友情链接：",f.default.createElement(h.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"maoyan"}}',target:"_blank",href:"https://m.maoyan.com/?channel=touch_group"},"猫眼电影")),f.default.createElement("div",{className:"footer-copy-right"},f.default.createElement("div",{className:"hr"}),f.default.createElement("span",{className:"footer-copy-right-text"},"©2016 美团网"," ",f.default.createElement(h.default,{href:"http://www.miibeian.gov.cn/",target:"_blank",rel:"nofollow"},"京ICP证070791号"))))},t}(u.Component),l.propTypes={userName:f.default.PropTypes.string,cityName:f.default.PropTypes.string},s=c))||s;t.default=m,e.exports=t.default},304:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l=n(3),c=o(l),u=n(33),f=n(240),p=o(f),d=n(204),h=o(d),m=(0,u.connect)(s=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={showTop:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;window.addEventListener("scroll",(0,p.default)(300,e.handleScroll.bind(e)))},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll.bind(this))},t.prototype.handleScroll=function(){var e=document.documentElement.clientHeight,t=document.documentElement.scrollTop||document.body.scrollTop;t>e?this.setState({showTop:!0}):this.setState({showTop:!1})},t.prototype.goToTop=function(e){e.preventDefault(),document.documentElement.scrollTop=0,document.body.scrollTop=0},t.prototype.render=function(){return c.default.createElement(h.default,{className:this.state.showTop?"top-btn top":"top-btn",gaevent:"b_9I011",onClick:this.goToTop.bind(this)},c.default.createElement("span",{className:"icon icon-top"}))},t}(l.Component))||s;t.default=m,e.exports=t.default},305:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=n(204),u=o(c),f=function(e){function t(){var n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=a(this,e.call.apply(e,[this].concat(l))),o.state={show:!1,config:{type:"confirm",content:"",title:"",okText:"确定",cancelText:"取消"}},i=n,a(o,i)}return i(t,e),t.prototype.getConfig=function(e,t,n){var o=e||{};return o.closeOut!==!1&&(o.closeOut=!0),o.okText=o.okText||"确定",o.cancelText=o.cancelText||"取消",o.onOK=o.onOK||function(){},o.onCancel=o.onCancel||function(){},o.type=t,o.content=n,o},t.prototype.alert=function(e,t){this.setState({show:!0,config:this.getConfig(t,"alert",e)})},t.prototype.confirm=function(e,t){this.setState({show:!0,config:this.getConfig(t,"confirm",e)})},t.prototype.clickOK=function(){var e=this.state.config;this.setState({show:!1}),e.onOK()},t.prototype.clickCancel=function(){var e=this.state.config;this.setState({show:!1}),e.onCancel()},t.prototype.render=function(){var e=this.state.config,t=this.props.isDp,n="";e.title&&(n=l.default.createElement("div",{className:"meishi-msg-hd"},e.title));var o="";"alert"===e.type?o=l.default.createElement("div",{className:"meishi-msg-ft"},l.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-ok",gaevent:'{"bid":"b_YKzwN","lab":{"type":"alert","operate": "ok","content":"'+e.content+'"}}',onClick:this.clickOK.bind(this)},e.okText)):"confirm"===e.type&&(o=l.default.createElement("div",{className:"meishi-msg-ft"},l.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-cancel",gaevent:'{"bid":"b_YKzwN","lab":{"type":"confirm","operate": "cancel","content":"'+e.content+'"}}',onClick:this.clickCancel.bind(this)},e.cancelText),l.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-ok",gaevent:'{"bid":"b_YKzwN","lab":{"type":"confirm","operate": "ok","content":"'+e.content+'"}}',onClick:this.clickOK.bind(this)},e.okText)));var r={display:this.state.show?"block":"none"};return l.default.createElement("div",{style:r,className:t?"dp":""},l.default.createElement("div",{className:"meishi-msg-bg"}),l.default.createElement("div",{className:"meishi-msg-doc"},n,l.default.createElement("div",{className:"meishi-msg-bd"},e.content),o))},t}(s.Component);t.default=f,e.exports=t.default},306:function(e,t){"use strict";function n(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0}e.exports=n},307:function(e,t){"use strict";e.exports={get:function(e,t){var n="cookie",o=document,r=t;return r=o[n].match("(?:;|^)\\s*"+e+"\\s*=\\s*([^;]+)\\s*(?:;|$)"),r&&r[1]},set:function(e,t,n,o){var r="cookie",a="; expires=",i="; domain=",s=document,l=o;location.host.indexOf("meituan.com")===-1||o||(l="meituan.com"),s[r]=e+"="+t+(n?a+new Date((new Date).getTime()+1e3*n).toGMTString():"")+(l?i+l:"")+"; path=/"},remove:function(e){var t="cookie",n="; expires=",o=document;o[t]=e+"="+n+(new Date).toGMTString()}}},308:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l=n(3),c=o(l),u=n(33),f=n(41),p=o(f),d=n(43),h=o(d),m=n(204),y=o(m),v=(0,u.connect)(s=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={showAppDownload:!1,detail:{title:"",buttonText:""}},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.platform,n=e.handleAppDownloadHeight,o=e.handleAppDownloadFooterHeight;if("2"===t)this.setState({showAppDownload:!0},function(){n?n(2.4):document.body.className+="openordown-dianping-paddingTop"});else{var r=this;try{this.props.requestUrl&&h.default.get(this.props.requestUrl).withCredentials().then(function(e,t){if(t);else{var n=e.body;if(0===+n.status&&n.data){var a=n.data||{};0===+a.type&&(r.setState({showAppDownload:!0,detail:{title:a.title,buttonText:a.buttonText||"点击下载"}}),a.title&&o&&o(1.4))}}})}catch(e){console.log(e)}}},t.prototype.jumpToDpApp=function(e,t,n){var o=this.state.isAndroid;if(t&&n){if(o)return t;var r=""+window.location.origin+e,a="dianping://web?url="+encodeURIComponent(r),i="https://m.dianping.com/cube/evoke/dianping.html?url="+encodeURIComponent(a)+"&web="+encodeURIComponent(t);return i}},t.prototype.hanleClick=function(e){e.preventDefault();var t=this.props.platform;if("2"===t){var n=this.jumpToDpApp(this.props.origionUrl,this.props.dpAppConfigUrl,this.props.dpUrlParams);window.location=n}else window.location=this.props.openAppUrl},t.prototype.render=function(){var e=this.state,t=e.showAppDownload,n=e.detail,o=this.props.platform;if(n.title=n.title.replace(/\s+/g,"<br>"),t){if("2"===o)return c.default.createElement("section",{className:"openordown-dianping"},c.default.createElement("div",{className:"download-guide"},c.default.createElement("div",{className:"title"},c.default.createElement("i",{className:"icon"}),c.default.createElement("span",{className:"text"},"吃喝玩乐，找优惠")),c.default.createElement("div",{className:"btns"},c.default.createElement("div",{className:"btn-open",onClick:this.hanleClick.bind(this)},"打开大众点评"),c.default.createElement("a",{className:"btn-download",href:"https://m.dianping.com/download/redirect?id=11617"},"下载APP享特价"))));if(n.title)return c.default.createElement("div",{className:"pop-wapper"},c.default.createElement("img",{className:"mt-logo",src:"//ms0.meituan.net/touch/css/i/logo.png"}),c.default.createElement("div",{className:"banner-title",dangerouslySetInnerHTML:{__html:n.title}}),c.default.createElement(y.default,{gaevent:"b_RPrsP",onClick:this.hanleClick.bind(this),href:"#",className:"btn btn-weak"},n.buttonText))}return c.default.createElement("div",null)},t}(l.Component))||s;t.default=v,v.propTypes={requestUrl:p.default.string.isRequired,openAppUrl:p.default.string.isRequired,handleAppDownloadHeight:p.default.func,handleAppDownloadFooterHeight:p.default.func},e.exports=t.default},309:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(310),p=o(f),d=(l=s=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={isImgShow:!1,imgIndex:1},n}return i(t,e),t.prototype.showImg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props.images;!Array.isArray(t)||0===t.length||e<0||this.setState({isImgShow:!this.state.isImgShow,imgIndex:e+1})},t.prototype.render=function(){var e=this.props.images,t=void 0===e?[]:e;return u.default.createElement("div",{className:"img-preview"},this.state.isImgShow&&u.default.createElement(p.default,{itemImages:t,showImg:this.showImg.bind(this),imgIndex:this.state.imgIndex}))},t}(u.default.Component),s.propTypes={images:u.default.PropTypes.array.isRequired},l);t.default=d,e.exports=t.default},310:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(208),p=(l=s=function(e){function t(){r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=a(this,e.call.apply(e,[this].concat(o)));s.defaultSrc=(0,f.url)("img/default.png");var l=s.props.itemImages||[];return Array.isArray(l)||(l=[]),s.touchRange=0,s.count=0,s.screenWidth=document.body.clientWidth,s.state={imgIndex:s.props.imgIndex||1,hasMoveStyle:!0,loadedImgArr:new Array(l.length).fill(s.defaultSrc)},s}return i(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.refs.carouselImg;if(t){var n=(Array.from(t.children,function(t){return t.style.width=e.screenWidth+"px"}),this.props.imgIndex-1);t.style.webkitTransform="translate3d("+n*-this.screenWidth+"px, 0, 0)",this.count=n,this.loadImg(n,this.state.loadedImgArr)}},t.prototype.startMoveImg=function(e){e&&e.preventDefault&&e.preventDefault(),this.setState({hasMoveStyle:!1}),this.touchRange=e.touches[0].pageX},t.prototype.movingImg=function(e,t){t&&t.preventDefault&&t.preventDefault();var n=this.touchRange-t.touches[0].pageX;if(!(0===this.count&&n<0||this.count===e-1&&n>0)){var o=this.count*-this.screenWidth;this.refs.carouselImg.style.webkitTransform="translate3d("+(o-(this.touchRange-t.changedTouches[0].pageX))+"px, 0, 0)"}},t.prototype.endMoveImg=function(e,t,n){if(n&&n.preventDefault&&n.preventDefault(),this.setState({hasMoveStyle:!0}),Math.abs(this.touchRange-n.changedTouches[0].pageX)<3&&this.props.showImg&&this.props.showImg(),this.touchRange-n.changedTouches[0].pageX>100){if(this.count++,this.count===e)return void(this.count=e-1);this.setState({imgIndex:this.state.imgIndex+1}),this.loadImg(this.count,this.state.loadedImgArr)}else if(this.touchRange-n.changedTouches[0].pageX<-100){if(this.count--,this.count<0)return void(this.count=0);this.setState({imgIndex:this.state.imgIndex-1}),this.loadImg(this.count,this.state.loadedImgArr)}this.refs.carouselImg.style.webkitTransform="translate3d("+this.count*-this.screenWidth+"px, 0, 0)"},t.prototype.click=function(e){e&&e.preventDefault&&e.preventDefault()},t.prototype.loadImg=function(e,t){var n=this.props.itemImages,o=e-1,r=0;0===e&&(o=e),e===n.length-1&&(o=e-2);do t[o+r]===this.defaultSrc&&(t[o+r]=n[o+r]),r++;while(r<3);this.setState({loadedImgArr:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.itemImages,o=void 0===n?[]:n,r=(t.showImg,this.state.loadedImgArr);return u.default.createElement("div",{className:"slide-img"},u.default.createElement("p",null,this.state.imgIndex,"/",o.length),u.default.createElement("ul",{className:this.state.hasMoveStyle?"flex full-height translate":"flex full-height",ref:"carouselImg"},r.map(function(t,n){return u.default.createElement("li",{className:"flex flex-center",onTouchStart:function(t){return e.startMoveImg(t)},onTouchMove:function(t){return e.movingImg(o.length,t)},onTouchEnd:function(t){return e.endMoveImg(o.length,o,t)},onClick:function(t){return e.click(t)},key:n},u.default.createElement("img",{src:t}))})))},t}(u.default.Component),s.propTypes={itemImages:u.default.PropTypes.array.isRequired,showImg:u.default.PropTypes.func.isRequired,imgIndex:u.default.PropTypes.number.isRequired},l);t.default=p,e.exports=t.default},325:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=(n(33),l=s=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.handleScore=function(e){if(String(e).indexOf(".")>0){var t=String(e).split("."),n=t[0]?t[0]:0,o=t[1]?t[1].substr(0,1):0;e=n+"."+o}return parseFloat(e)},t.prototype.render=function(){var e=this.props,t=e.score,n=e.isNumberShow,o=void 0!==n&&n,r=e.size,a=void 0===r?24:r;if(!isFinite(t)||""===t||t<0||t>5)return u.default.createElement("span",null);t=this.handleScore(t);var i=Math.floor(t),s=i<t;if(s){var l=Math.floor(10*(t-i));l<=1?s=!1:l>=7&&(s=!1,i+=1)}var c=5-i-s,f=parseInt(a,10)/100,p={width:f+"rem",height:f+"rem"};return u.default.createElement("span",{className:"stars"},new Array(i).fill(1).map(function(e,t){return u.default.createElement("i",{className:"icon icon-star-orange-lg",style:p,key:t})}),s===!0?u.default.createElement("i",{className:"icon icon-star-orange-half-lg",style:p}):"",new Array(c).fill(1).map(function(e,t){return u.default.createElement("i",{className:"icon icon-star-grey-lg",style:p,key:t})}),o===!0?u.default.createElement("em",{className:"star-text"},t):"")},t}(c.Component),s.propTypes={score:u.default.PropTypes.number.isRequired,isNumberShow:u.default.PropTypes.bool,size:u.default.PropTypes.number},l);t.default=f,e.exports=t.default},331:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(204),p=o(f),d=(l=s=function(e){function t(){return r(this,t),a(this,e.call(this))}return i(t,e),t.prototype.clickBread=function(e,t){"#"===t&&e.preventDefault()},t.prototype.render=function(){var e=this,t=this.props,n=t.breadArr,o=t.hide,r=void 0!==o&&o,a=n.length-1,i=r?{display:"none"}:{};return u.default.createElement("div",{className:"nav-bread",style:i},"当前位置：",n.map(function(t,n){return[u.default.createElement(p.default,{onClick:function(n){return e.clickBread(n,t.href)},href:t.href,key:n},t.name,"团购"),n!==a?u.default.createElement("span",null,">"):""]}))},t}(c.Component),s.propTypes={breadArr:u.default.PropTypes.array.isRequired},l);t.default=d,e.exports=t.default},339:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=n(41),u=o(c),f=n(43),p=o(f),d=n(208),h=n(218),m=o(h),y=n(204),v=o(y),b=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={showAppDownload:!1},n.handleDownload=n.handleDownload.bind(n),n.handleOpenApp=n.handleOpenApp.bind(n),n.openApp=n.openApp.bind(n),n}return i(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.isWx,o=void 0!==n&&n,r=t.isAndroid,a=t.isIPhone,i=t.isOpenApp,s=void 0===i||i,l=this.props.appUrl;!o&&s&&document.addEventListener("DOMContentLoaded",function(t){e.getLch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var n=l.indexOf("?"),o=n>-1?l.substring(n):"";o=(0,d.setUrlParam)(o,{key:"lch",val:t}),l=""+l.split("?")[0]+o}console.log(l,"++++++++"),e.openApp(r,a,l)})})},t.prototype.getLch=function(e){p.default.get("https://i.meituan.com/platform/share/id").withCredentials().then(function(t,n){if(n)e();else{var o=t.body;0===o.code&&o.data?e(o.data):e()}})},t.prototype.openApp=function(e,t,n){arguments.length>3&&void 0!==arguments[3]?arguments[3]:"meituan";if(e){var o=document.createElement("iframe");o.setAttribute("src",n),o.setAttribute("scrolling","no"),o.style.width="1px",o.style.height="1px",o.style.visibility="hidden",document.body.appendChild(o)}else t&&(window.location=n)},t.prototype.handleOpenApp=function(e){
e.preventDefault();var t=this.props,n=t.isWx,o=t.isAndroid,r=t.isIPhone,a=t.appUrl,i=t.openAppUrl;n?i&&(window.location=i):this.openApp(o,r,a)},t.prototype.handleDownload=function(e){e.preventDefault();var t=this.props,n=(t.isAndroid,t.isIPhone),o={android:"http://www.meituan.com/mobile/download/meituan/android/imeituan/waputm_wxfuwuhao?from=touch",ios:"https://itunes.apple.com/cn/app/mei-tuan-tuan-gou-tuan-gou/id423084029?mt=8"},r=o.android;n&&(r=o.ios),window.location=r},t.prototype.render=function(){var e=this.props,t=e.isInApp,n=void 0!==t&&t,o=e.platform;return n||"2"===o?l.default.createElement("div",null):l.default.createElement("div",{className:"banner-download"},l.default.createElement(m.default,{width:"100%",imgUrl:(0,d.url)("img/app_download_banner.png")}),l.default.createElement(v.default,{gaevent:"b_qjez82tj",href:"#",onClick:this.handleOpenApp,className:"call-app-btn btn-invisible"}),l.default.createElement(v.default,{gaevent:"b_w4kyjalz",href:"#",onClick:this.handleDownload,className:"download-btn btn-invisible"}))},t}(s.Component);t.default=b,b.propTypes={requestUrl:u.default.string.isRequired,openAppUrl:u.default.string.isRequired},e.exports=t.default},434:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=n(204),u=o(c),f=n(435),p=o(f),d=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={show:!1},n.phoneList=[],n.open=n.open.bind(n),n.timer=0,n.touchmoveHandler=function(e){e.preventDefault()},n}return i(t,e),t.prototype.open=function(e){Array.isArray(e)&&e.length>0&&(document.getElementsByTagName("body")[0].addEventListener("touchmove",this.touchmoveHandler,!1),this.phoneList=e,this.setState({show:!0}))},t.prototype.cancel=function(){document.getElementsByTagName("body")[0].removeEventListener("touchmove",this.touchmoveHandler,!1),this.setState({show:!1})},t.prototype.delayClose=function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.cancel.bind(this),50)},t.prototype.render=function(){var e=this,t={display:this.state.show?"block":"none"},n=this.props.className?this.props.className:"",o=this.props.bgClickHidePhone?this.cancel.bind(this):null;return l.default.createElement("div",{style:t,className:n},l.default.createElement("div",{className:"meishi-msg-bg",onClick:o}),l.default.createElement("div",{id:"msg",className:"msg-option"},l.default.createElement("div",{className:"msg-bd"},"拨打电话"),l.default.createElement("div",{className:"msg-option-btns"},this.phoneList.map(function(t,n){return l.default.createElement(u.default,{className:"btn msg-btn",gaevent:'{"bid":"b_06zro","lab":{"mobile":"'+t+'"}}',key:n,href:"tel:"+t,onClick:e.delayClose.bind(e)},t)})),l.default.createElement(p.default,{gaevent:"b_LTCnk",className:"btn msg-btn-cancel",onClick:this.cancel.bind(this)},"取消")))},t}(s.Component);t.default=d,e.exports=t.default},435:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(201),h=o(d),m=(0,p.connect)((c=l=function(e){function t(){return r(this,t),a(this,e.call(this))}return i(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.gaevent,o=void 0===n?"":n,r=t.onClick;if(o&&"string"==typeof o)try{var a=JSON.parse(o);h.default.mge(a)}catch(e){h.default.mge({bid:o})}r&&"function"==typeof r&&r.call(this,e)},t.prototype.render=function(){var e=this.props,t=e.type,n=void 0===t?"button":t,o=e.disabled,r=void 0!==o&&o,a=e.className,i=void 0===a?"":a;return f.default.createElement("button",{type:n,disabled:r,className:i,onClick:this.handleClick.bind(this)},this.props.children)},t}(u.Component),l.propTypes={type:f.default.PropTypes.string,className:f.default.PropTypes.string,gaevent:f.default.PropTypes.string,onClick:f.default.PropTypes.func,disabled:f.default.PropTypes.bool},s=c))||s;t.default=m,e.exports=t.default},752:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l=n(3),c=o(l),u=n(33),f=n(753),p=o(f),d=n(754),h=o(d),m=n(755),y=o(m),v=n(756),b=o(v),g=n(758),w=o(g),E=n(760),_=o(E),O=n(762),x=o(O),j=n(763),N=o(j),T=n(309),P=o(T),k=n(331),C=o(k),I=n(339),S=o(I),A=n(298),M=o(A),L=n(204),R=o(L),D=n(240),U=o(D),H=n(219),q=o(H),F=(0,u.connect)(s=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={stickyTop:!1,holderStyle:{}},n.boxHight=0,n.boxTop=0,n}return i(t,e),t.prototype.componentDidMount=function(){var e=this,t=document.getElementById("top-box");this.boxTop=t.offsetTop,this.boxHight=t.offsetHeight,this.setShareInfo(),window.addEventListener("scroll",(0,U.default)(200,e.handleScroll.bind(e)))},t.prototype.setShareInfo=function(){var e=window.KNB,t=u.state.get("detailInfo"),n=/^https?:/.test(""+t.imgurl),o={title:""+t.brandname,desc:""+t.title,imgUrl:""+(n?"":location.protocol)+t.imgurl,link:""+location.href};e&&e.ready(function(){var e=window.wx;e&&e.ready(function(){e.onMenuShareAppMessage(o),e.onMenuShareTimeline(o)})})},t.prototype.handleScroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=this.boxTop,n=this.boxHight;e>t?this.state.stickyTop||this.setState({stickyTop:!0,holderStyle:{height:n}}):this.state.stickyTop&&this.setState({stickyTop:!1,holderStyle:{height:0}})},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll.bind(this))},t.prototype.showPreview=function(){this.refs.ImgPreview.showImg(0)},t.prototype.render=function(){try{var e=u.state.get("stid"),t=u.state.get("detailInfo"),n=u.state.get("adsParam"),o=u.state.get("relatedDealParam"),r=u.state.get("$meta"),a=r.appDownloadBannerConfig,i=a.isDp,s=a.dpdealId,l=a.appUrl;a.appUrl=i&&s?"dianping://fooddealdetail?id="+s:l;var f=t.id,d=t.newrating||{},m=d.rating,v=Array.isArray(t.rdploc)&&t.rdploc[0]?t.rdploc[0]:{},g=Array.isArray(t.menu)&&t.menu[0]?t.menu[0]:[],E=t.campaigns,O="",j=t.terms;if(Array.isArray(E)&&E.length>0){var T=E.map(function(e,t){var n={color:e.color};return c.default.createElement("li",{className:"campaign",key:t},c.default.createElement("span",{className:"tag",style:n},e.logo),c.default.createElement("span",{className:"longTitle"},e.longtitle))});O=c.default.createElement("ul",{className:"campaign-tip"},T)}var k="";return t.voice&&(k=c.default.createElement("div",{className:"new-voice-container list-group"},c.default.createElement("div",{className:"group-title"},"最新通知"),c.default.createElement("div",{className:"group-item dd-padding voice-info"},t.voice))),c.default.createElement(M.default,u.state.get("$meta"),a.isShow?c.default.createElement(S.default,a):null,c.default.createElement("div",{className:"deal"},c.default.createElement("div",{className:"list"},c.default.createElement(R.default,{className:"album toutu",gaevent:'{"bid":"b_FVMPj","lab":{"dealId":"'+f+'"}}',onClick:this.showPreview.bind(this)},c.default.createElement("img",{className:"toutu-img",src:t.imgurl}),c.default.createElement("div",{className:"desc"},c.default.createElement("h1",{className:"title"},t.brandname),c.default.createElement("span",null,t.title))),c.default.createElement(P.default,{images:u.state.get("albumPicsUrl"),ref:"ImgPreview"}),c.default.createElement("div",{className:"list-group list-top"},c.default.createElement("div",{style:this.state.holderStyle}),c.default.createElement("div",{className:"group-item dd-padding buy-price "+(this.state.stickyTop?"sticky-top":""),id:"top-box"},c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"price"},c.default.createElement("strong",{className:"J_pricetag strong-color"},t.price),c.default.createElement("span",{className:"strong-color"},"元"),c.default.createElement("span",{className:"retail-price"},"门市价:",t.value,"元"))),t.canPayOrder?c.default.createElement(R.default,{className:"btn buy-btn btn-larger btn-strong",href:"/i/order/"+f+"?stid="+e,gaevent:'{"bid":"b_QxMKv","lab":{"dealId":"'+f+'"}}'},"立即抢购"):c.default.createElement("span",{className:"btn buy-btn btn-larger btn-disabled"},"已抢光")),O,c.default.createElement(x.default,{refund:t.refund,expireautorefund:t.expireautorefund,solds:t.solds})),c.default.createElement(p.default,{commentLabelsInfo:u.state.get("commentLabelsInfo"),score:m,dealId:f,newrating:d,stid:e}),k,c.default.createElement(h.default,{poiInfo:v,dealId:f,poiCount:t.curcityrdcount,stid:e}),c.default.createElement(N.default,{menuDetail:g,dealId:f,stid:e}),c.default.createElement(y.default,{noticeInfo:j}),c.default.createElement(q.default,null,c.default.createElement("div",null,c.default.createElement(b.default,{dealId:f,score:m,rating:d,stid:e}),c.default.createElement(w.default,{relatedDealParam:o,dealTitle:t.brandname}),c.default.createElement(_.default,{adsParam:n}))))),c.default.createElement(C.default,{breadArr:[{name:u.state.get("$meta").cityName,href:"#"},{name:t.brandname,href:"#"}]}))}catch(e){return c.default.createElement("div",null,"Api Error")}},t}(l.Component))||s;t.default=F,e.exports=t.default,"function"==typeof e.exports&&(e.exports.turboName="client/page/deal0","undefined"!=typeof window&&(window._turboClasses=window._turboClasses||{},window._turboClasses["client/page/deal0"]=e.exports)),"function"==typeof t.default&&(t.default.turboName="client/page/deal1","undefined"!=typeof window&&(window._turboClasses=window._turboClasses||{},window._turboClasses["client/page/deal1"]=t.default))}).call(t,n(2)(e))},753:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=(n(33),n(325)),u=o(c),f=n(204),p=o(f),d=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.commentLabelsInfo,n=void 0===t?[]:t,o=e.newrating,r=void 0===o?{}:o,a=e.dealId,i=void 0===a?"":a,s=e.stid,c=void 0===s?"":s,f=r.count,d=void 0===f?0:f,h=r.rating,m=void 0===h?-1:h,y=d&&m?"":"hide",v=n.length>0?"":"hide",b=n.map(function(e,t){return l.default.createElement(p.default,{key:t,className:e.isPositive?"btn btn-tag btn-tag-light":"btn btn-tag",href:"https://i.meituan.com/deal/"+i+"/feedback?label="+e.tag+"&stid="+c,gaevent:'{"bid":"b_3xfJJ","lab":{"dealId":"'+i+'"}}',rel:"nofollow"},l.default.createElement("span",{className:"tag-title"},e.tag,l.default.createElement("span",{className:"tag-num"},e.count)))});return l.default.createElement("div",{className:"list-group tags-container "+y},l.default.createElement("div",{className:"group-item"},l.default.createElement(p.default,{className:"star-row",href:"https://i.meituan.com/deal/"+i+"/feedback?stid="+c,gaevent:'{"bid":"b_qc0yo","lab":{"dealId":"'+i+'"}}'},l.default.createElement("div",{className:"more more-weak comment-headline"},l.default.createElement(u.default,{isNumberShow:!0,score:m?+m:-1,size:32}),l.default.createElement("span",{className:"pull-right "},d,"人评价")))),l.default.createElement("div",{className:"dd-padding cloud-tag "+v},b))},t}(s.Component);t.default=d,e.exports=t.default},754:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=(n(33),n(434)),u=o(c),f=n(204),p=o(f),d=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.showMobile=function(e){this.refs.mobile.open(e)},t.prototype.render=function(){var e=this.props,t=e.poiInfo,n=void 0===t?{}:t,o=e.dealId,r=e.poiCount,a=void 0===r?0:r,i=(e.stid,n.phone&&"[object String]"===Object.prototype.toString.call(n.phone)?n.phone.split("/"):[]),s=void 0;return n.name&&n.addr?(a>1&&(s=l.default.createElement("div",{className:"more-merchant"},l.default.createElement(p.default,{gaevent:'{"bid":"b_7UBlG","lab":{"dealId":"'+o+'", "poiId":"'+n.poiid+'"}}',href:"/i/poi/list/"+o},l.default.createElement("div",{className:"more"},"查看全部",a,"家适用分店")))),l.default.createElement("div",{className:"list-group poi-container"},l.default.createElement("div",{className:"group-title"},"商家信息"),l.default.createElement("div",{className:"group-item dd-padding"},l.default.createElement("div",{className:"merchant-card"},l.default.createElement("div",{className:"biz-detail"},l.default.createElement(p.default,{gaevent:'{"bid":"b_JP8Mu","lab":{"dealId":"'+o+'", "poiId":"'+n.poiid+'"}}',className:"detail-info",href:"/i/poi/"+n.poiid},l.default.createElement("h5",{className:"title single-line"},n.name),l.default.createElement("div",{className:"address single-line"},n.addr),l.default.createElement("div",{className:"dist"},l.default.createElement("span",{className:"text-icon icon-sp icon-location"}),l.default.createElement("span",null,n.distance),l.default.createElement("span",{className:"dist-title"},"离我最近")))),l.default.createElement("div",{className:"biz-call",onClick:this.showMobile.bind(this,i)},l.default.createElement(p.default,{gaevent:'{"bid":"b_79xjx","lab":{"dealId":"'+o+'", "poiId":"'+n.poiid+'"}}',className:"phone",href:"javascript:;"},l.default.createElement("div",{className:"icon-sp icon-tel"}))))),l.default.createElement(u.default,{ref:"mobile"}),s)):l.default.createElement("div",null)},t}(s.Component);t.default=d,e.exports=t.default},755:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=(n(33),function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props.noticeInfo||[],t=Array.isArray(e)&&e.length>0?"":"hide",n=void 0;return n=e.map(function(e,t){var n=Array.isArray(e.content)?e.content:[],o=void 0;return o=n.length>1?n.map(function(e,t){return l.default.createElement("li",{className:"much-content",key:t},e)}):l.default.createElement("li",null,n[0]),l.default.createElement("div",{className:"notice-item",key:t},l.default.createElement("div",{className:"notice-item-title"},e.title),l.default.createElement("ul",{className:"notice-item-des"},o))}),l.default.createElement("div",{className:"list-group notice-container "+t},l.default.createElement("div",{className:"group-title"},"购买须知"),l.default.createElement("div",{className:"dd-padding"},n))},t}(s.Component));t.default=c,e.exports=t.default},756:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=(n(33),n(43)),u=o(c),f=n(325),p=o(f),d=n(757),h=o(d),m=n(204),y=o(m),v=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={feedback:[],total:0},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({feedback:[],total:0}),u.default.post("/i/api/comment/deal").send({dealId:this.props.dealId}).end(function(t,n){if(!t){var o=n.body.data||{};e.setState({feedback:o.feedback,total:o.total?o.total:0})}})},t.prototype.render=function(){var e=this.props,t=e.score,n=void 0===t?-1:t,o=e.dealId,r=e.stid,a=void 0===r?"":r,i=n>0?"":"hide",s=void 0;this.state.total>3&&(s=l.default.createElement("div",{className:"more-text"},l.default.createElement(y.default,{className:"react",href:"https://i.meituan.com/deal/"+o+"/feedback?stid="+a,gaevent:'{"bid":"b_7podh","lab":{"dealId":"'+o+'"}}'},l.default.createElement("div",{className:"more"},"查看全部",this.state.total,"条评价"))));var c=this.state.feedback.map(function(e,t){return l.default.createElement(h.default,{commentInfo:e,type:"deal",key:t})});return l.default.createElement("div",{className:"evaluation-container list-group "+i},l.default.createElement("div",{className:"group-title"},l.default.createElement(y.default,{gaevent:'{"bid":"b_Xmuyc","lab":{"dealId":"'+o+'"}}',href:"https://i.meituan.com/deal/"+o+"/feedback?stid="+a},"评价"),l.default.createElement("span",{className:"pull-right"},l.default.createElement(p.default,{isNumberShow:!0,score:n?+n:-1,size:34}))),l.default.createElement("div",{className:"feedback-container"},c),s)},t}(s.Component);t.default=v,e.exports=t.default},757:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(208),h=n(325),m=o(h),y=n(218),v=o(y),b=n(309),g=o(b),w=n(204),E=o(w),_=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={active:!1},n}return i(t,e),t.prototype.changeActive=function(){this.setState({active:!this.state.active})},t.prototype.showPreview=function(e){this.refs.ImgPreview.showImg(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.commentInfo,o=void 0===n?{}:n,r=t.type,a=void 0===r?"poi":r,i=o.comment,s=void 0===i?"":i,l=o.picInfo,c=void 0===l?[]:l,u=o.bizreply,p=void 0===u?"":u,h=o.score,y=void 0===h?-1:h,b=o.replyTime,w=void 0===b?"":b,_=o.poiid,O=void 0===_?"":_,x=o.shopname,j=void 0===x?"":x,N=o.avatar,T=void 0===N?"":N,P=o.username,k=void 0===P?"":P,C=o.feedbacktime,I=void 0===C?"":C,S=o.isHighQuality,A=void 0!==S&&S,M=f.default.createElement("div",{className:"comment-container"},s),L="",R="",D="",U="";if(A&&(D=f.default.createElement("div",{className:"serious-evaluation"},f.default.createElement("img",{src:(0,d.url)("img/serious-evaluation.png"),alt:"认真评价"}))),s.length>100){var H=s.substring(0,80),q=s.substring(80);M=f.default.createElement(E.default,{gaevent:'{"bid":"b_r4zRt","lab":{"poiId":"'+O+'"}}',className:"comment-container",onClick:this.changeActive.bind(this)},H,f.default.createElement("i",{className:"text-icon icon-ell"}),f.default.createElement("span",{className:"feedback-more"},q),f.default.createElement("i",{className:"text-icon icon-toggle-arrow"}))}return L=c.map(function(t,n){return f.default.createElement("span",{key:n,onClick:e.showPreview.bind(e,n)},f.default.createElement(v.default,{width:"110",height:"110",imgUrl:t}))}),p&&(R=f.default.createElement("div",{className:"block-reply"},f.default.createElement("div",{className:"block-reply-head"},"商家回复：",f.default.createElement("weak",{className:"reply-time"},w)),f.default.createElement("div",{className:"reply-container"},p))),"deal"===a&&(U=f.default.createElement("div",{className:"poi-name"},f.default.createElement(E.default,{href:"/i/poi/"+O,gaevent:'{"bid":"b_DjILy","lab":{"poiId":"'+O+'"}}'},j))),f.default.createElement("div",{className:"feedback-card"},f.default.createElement("div",{className:"user-wrapper"},f.default.createElement("div",{className:"user-pic"},f.default.createElement(v.default,{width:"74",height:"74",imgUrl:T})),f.default.createElement("div",{className:"user-info-text"},f.default.createElement("div",{className:"user-info"},f.default.createElement("span",{className:"user-name"},k)),f.default.createElement("div",{className:"score"},f.default.createElement(m.default,{isNumberShow:!1,score:y,size:28}),f.default.createElement("span",{className:"time"},I))),D),f.default.createElement("div",{className:"comment"},f.default.createElement("div",{className:this.state.active?"toggle-content active":"toggle-content"},M)),f.default.createElement("div",{className:"pics"},L,f.default.createElement(g.default,{images:c,ref:"ImgPreview"})),U,R)},t}(u.Component),l.propTypes={commentInfo:f.default.PropTypes.object.isRequired,type:f.default.PropTypes.string},s=c))||s;t.default=_,e.exports=t.default},758:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(43),h=o(d),m=n(759),y=o(m),v=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={title:"",dealList:[]},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;h.default.post("/i/api/recommend/deal").send({relatedDealParam:this.props.relatedDealParam}).end(function(t,n){if(!t){n.body=n.body||{};var o=n.body.data||{};e.setState({title:o.title,dealList:o.dealList})}})},t.prototype.render=function(){var e=this.props.dealTitle,t=this.state.dealList||[],n=t.length<1?"hide":"",o=this.state.title,r=t.map(function(e,t){if(t<8)return f.default.createElement(y.default,{dealInfo:e,key:t})});return f.default.createElement("div",{className:"list-group related-deals-container "+n},f.default.createElement("div",{className:"group-title"},f.default.createElement("span",{className:"title-left"},"[",e,"]",o)),f.default.createElement("div",{className:"cards-container"},r))},t}(u.Component),l.propTypes={dealTitle:f.default.PropTypes.string.isRequired,relatedDealParam:f.default.PropTypes.object.isRequired},s=c))||s;t.default=v,e.exports=t.default},759:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=n(3),f=o(u),p=n(33),d=n(204),h=o(d),m=(0,p.connect)((c=l=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={},n}return i(t,e),t.prototype.render=function(){var e=this.props.dealInfo,t=e.title.split(":").length>1?e.title.split(":")[1]:"",n="["+e.range+"]"+t,o=e.couponFlag?"icon-quan":"icon-tuan";return f.default.createElement("div",{className:"related-deal-card"},f.default.createElement(h.default,{href:"/i/deal/"+e.id+"?stid="+e.stid,gaevent:'{"bid":"b_vprBK","lab":{"dealId":"'+e.id+'"}}'},f.default.createElement("div",{className:"simple-card"},f.default.createElement("div",{className:"deal-card"},f.default.createElement("span",{className:"icon-sp dealtype-icon "+o}),f.default.createElement("div",{className:"deal-card-block-right"},f.default.createElement("div",{className:"title text-block"},n),f.default.createElement("div",{className:"price"},f.default.createElement("span",{className:"strong"},e.price),f.default.createElement("span",{className:"strong-color"},"元"),e.tag?f.default.createElement("span",{className:"btn btn-tag btn-tag-promotion"},e.tag):f.default.createElement("del",null,e.value,"元"),f.default.createElement("span",{className:"line-right"},"已售",e.solds)))))))},t}(u.Component),l.propTypes={dealInfo:f.default.PropTypes.object.isRequired},s=c))||s;t.default=m,e.exports=t.default},760:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(3),l=o(s),c=(n(33),n(43)),u=o(c),f=n(761),p=o(f),d=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={title:"",adList:[]},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;u.default.post("/i/api/advert/deal").send({adsParam:this.props.adsParam}).end(function(t,n){if(!t){n.body=n.body||{};var o=n.body.data||{};e.setState({title:o.title,adList:o.adList})}})},t.prototype.render=function(){var e=this.state.adList||[],t=e.length<1?"hide":"",n=this.state.title,o=e.map(function(e,t){if(t<12)return l.default.createElement(p.default,{dealInfo:e,key:t})});return l.default.createElement("div",{className:"list-group ads-container "+t},l.default.createElement("div",{className:"group-title"},l.default.createElement("span",{className:"title-left"},n),l.default.createElement("span",{className:"title-right"},"广告")),l.default.createElement("div",{className:"cards-container"},o))},t}(s.Component);t.default=d,e.exports=t.default},761:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=n(218),p=o(f),d=n(204),h=o(d),m=(l=s=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props.dealInfo,t=void 0===e?{}:e;return u.default.createElement(h.default,{gaevent:'{"bid":"b_VBzqB","lab":{"dealId":"'+t.dealId+'"}}',href:"/i/deal/"+t.dealId+"?_fb_="+t.feedback,className:"deal-Ad-card",midas1:t.feedback,midas2:t.feedback,midas3:t.feedback},u.default.createElement("div",{className:"dealcard"},u.default.createElement(p.default,{width:"184",height:"164",imgUrl:t.imgUrl}),u.default.createElement("div",{className:"dealcard-block-right"},u.default.createElement("div",{className:"dealcard-brand"},u.default.createElement("span",{className:"deal-title single-line"},t.dealTitle),u.default.createElement("span",{className:"deal-distance"},t.distanceLabel)),u.default.createElement("div",{className:"title text-block"},t.subTitle),u.default.createElement("div",{className:"price"},u.default.createElement("span",{className:"strong"},"¥",t.dealPrice),""===t.tagContent?"":u.default.createElement("span",{className:"tag btn-tag btn-tag-promotion"},t.tagContent),u.default.createElement("span",{className:"line-right"},t.saledLabel)))))},t}(c.Component),s.propTypes={dealInfo:u.default.PropTypes.object.isRequired},l);t.default=m,e.exports=t.default},762:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=(n(33),n(208),l=s=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.refund,n=void 0===t?0:t,o=e.expireautorefund,r=void 0===o?0:o,a=e.solds,i=void 0===a?-1:a,s=void 0;return i&&i>=0&&(s=u.default.createElement("li",{className:"agreement-solds"},u.default.createElement("span",{className:"agreement-icon icon-sp icon-solds-icon"}),u.default.createElement("span",null,"已售",i))),u.default.createElement("div",{className:"group-item dd-padding agreement"},u.default.createElement("ul",{className:"agree"},u.default.createElement("li",{className:"color-ok"},u.default.createElement("span",{className:"agreement-icon icon-sp icon-refund-anytime"}),u.default.createElement("span",null,n<2?"不":"","支持随时退款")),u.default.createElement("li",{className:"color-ok"},u.default.createElement("span",{className:"agreement-icon  icon-sp icon-refund-automatic"}),u.default.createElement("span",null,0===r?"不":"","支持过期自动退")),s))},t}(c.Component),s.propTypes={refund:u.default.PropTypes.number,expireautorefund:u.default.PropTypes.number,solds:u.default.PropTypes.number},l);t.default=f,e.exports=t.default},763:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=n(3),u=o(c),f=(n(33),n(305)),p=o(f),d=n(207),h=o(d),m=n(204),y=o(m),v=(l=s=function(e){function t(){return r(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.createMenuDom=function(e){var t="",n='<div class="menu-table"><div>',o='<div class="menu-item menu-explanation"><ul>';return e.forEach(function(e){var t=e.subtype;switch(t){case 0:n+='</div><div class="menu-item menu-head head-left">'+e.content+"</div><div>";case 1:n+='</div><div class="menu-item menu-head head-center">'+e.content+"</div><div>";break;case 2:n+='<div class="menu-item menu-tr">\n                                        <span class="left">'+e.content+'</span>\n                                        <span class="middle">'+e.specification+'</span>\n                                        <span class="right">'+e.total+"元</span>\n                                    </div>";break;case 4:o+='<li class="menu-li">'+e.content+"</li>"}}),n+="</div></div>",o+="</ul></div>",t=n+o},t.prototype.goToDealDetail=function(){var e=this;this.refs.dialog.confirm("团购详情图片较多，可能会消耗较多流量。是否继续访问？",{onOK:function(){window.location=h.default.getUrlWithTransferParams("/i/deal/detail/"+e.props.dealId+"?stid="+e.props.stid)}})},t.prototype.render=function(){var e=this.props.menuDetail?this.props.menuDetail:[],t=this.createMenuDom(e),n=this.props.dealId;return u.default.createElement("div",{className:"list-group menu-container"},u.default.createElement("div",{className:"group-title"},"套餐"),u.default.createElement("div",{className:"menu"},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}})),u.default.createElement(y.default,{className:"more-text",onClick:this.goToDealDetail.bind(this),gaevent:'{"bid":"b_MdcH1","lab":{"dealId":"'+n+'"}}'},u.default.createElement("div",{className:"more"},"查看图文详情")),u.default.createElement(p.default,{ref:"dialog"}))},t}(c.Component),s.propTypes={menuDetail:u.default.PropTypes.array,dealId:u.default.PropTypes.number},l);t.default=v,e.exports=t.default}});
//# sourceMappingURL=https://s3plus.vip.sankuai.com/v1/mss_20cf2cb609bf414daf70e3738dd9eeab/meituan-web-meishife-i-map/sourcemaps/deal/index.2b34b317d49ce105a627.js.map
